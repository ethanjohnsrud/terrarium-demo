(this["webpackJsonpterrarium-display"]=this["webpackJsonpterrarium-display"]||[]).push([[0],{12:function(e,t,n){},21:function(e,t,n){},69:function(e,t,n){},7:function(e){e.exports=JSON.parse('{"emailIssueRecipients":["ethanjohnsrud@gmail.com"],"emailStatusRecipients":["ethanjohnsrud@gmail.com"],"updateRegularity":"Week","requestRemoteServerFrequency":900000,"accessDatabase":true,"evaluationFrequency":900000,"maximumTemperature":26,"minimumTemperature":21.5,"maximumHumidity":100,"minimumHumidity":75,"dayHourStart":6,"nightHourStart":22,"sensorType":"DHT22","sensorMode":"Proactive","CONTROLS":[{"id":0,"pin":{"_gpio":"8","_gpioPath":"/sys/class/gpio/gpio8/","_debounceTimeout":0,"_readBuffer":{"type":"Buffer","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_readSyncBuffer":{"type":"Buffer","data":[48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_listeners":[],"_valueFd":24,"_poller":{"closed":false}},"name":"Day Heat Lamp","types":["Day","Heat","Light"],"settings":[{"reason":"Climate Heating","set":1,"until":1645126168124},{"reason":"Default","set":0,"until":-1}],"operating":1},{"id":1,"pin":{"_gpio":"7","_gpioPath":"/sys/class/gpio/gpio7/","_debounceTimeout":0,"_readBuffer":{"type":"Buffer","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_readSyncBuffer":{"type":"Buffer","data":[48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_listeners":[],"_valueFd":25,"_poller":{"closed":false}},"name":"Night Heat Lamp","types":["Night","Heat","Light","Dehumidify"],"settings":[{"reason":"Daytime","set":0,"until":1645156800975},{"reason":"Climate Heating","set":1,"until":1645126168124},{"reason":"Climate Dehumidifying","set":1,"until":1645126168124},{"reason":"Default","set":0,"until":-1}],"operating":1},{"id":2,"pin":{"_gpio":"12","_gpioPath":"/sys/class/gpio/gpio12/","_debounceTimeout":0,"_readBuffer":{"type":"Buffer","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_readSyncBuffer":{"type":"Buffer","data":[48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_listeners":[],"_valueFd":26,"_poller":{"closed":false}},"name":"Day Grow Light","types":["Day","Light"],"settings":[{"reason":"Schedule Grow\\n","set":1,"until":1636851600000},{"reason":"Default","set":0,"until":-1}],"operating":1},{"id":3,"pin":{"_gpio":"16","_gpioPath":"/sys/class/gpio/gpio16/","_debounceTimeout":0,"_readBuffer":{"type":"Buffer","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_readSyncBuffer":{"type":"Buffer","data":[48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_listeners":[],"_valueFd":27,"_poller":{"closed":false}},"name":"Waterfall","types":["Humidify","Water"],"settings":[{"reason":"Climate Dehumidifying","set":0,"until":1645126168124},{"reason":"Default","set":0,"until":-1}],"operating":1},{"id":4,"pin":{"_gpio":"20","_gpioPath":"/sys/class/gpio/gpio20/","_debounceTimeout":0,"_readBuffer":{"type":"Buffer","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_readSyncBuffer":{"type":"Buffer","data":[48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_listeners":[],"_valueFd":28,"_poller":{"closed":false}},"name":"Vent Fan","types":["Dehumidify","Fan","Cool"],"settings":[{"reason":"Climate Heating","set":0,"until":1645126168124},{"reason":"Climate Dehumidifying","set":1,"until":1645126168124},{"reason":"Default","set":0,"until":-1}],"operating":1},{"id":5,"pin":{"_gpio":"21","_gpioPath":"/sys/class/gpio/gpio21/","_debounceTimeout":0,"_readBuffer":{"type":"Buffer","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_readSyncBuffer":{"type":"Buffer","data":[48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_listeners":[],"_valueFd":29,"_poller":{"closed":false}},"name":"Extra Heat Lamp","types":["Extra Heat","Light","Day"],"settings":[{"reason":"Default","set":0,"until":-1}],"operating":0},{"id":6,"pin":{"_gpio":"1","_gpioPath":"/sys/class/gpio/gpio1/","_debounceTimeout":0,"_readBuffer":{"type":"Buffer","data":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_readSyncBuffer":{"type":"Buffer","data":[48,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},"_listeners":[],"_valueFd":30,"_poller":{"closed":false}},"name":"Water Filter and Pump","types":["Water","Humidify"],"settings":[{"reason":"Schedule Filtration\\n","set":1,"until":1635359400000},{"reason":"Climate Dehumidifying","set":0,"until":1645126168124},{"reason":"Default","set":0,"until":-1}],"operating":1}],"CLIMATE":[{"hour":0,"temperature":23.33,"humidity":77.83},{"hour":1,"temperature":22.89,"humidity":75.13},{"hour":2,"temperature":22.47,"humidity":72.78},{"hour":3,"temperature":22.11,"humidity":69.84},{"hour":4,"temperature":21.87,"humidity":74.53},{"hour":5,"temperature":21.76,"humidity":78.74},{"hour":6,"temperature":21.97,"humidity":81.63},{"hour":7,"temperature":22.31,"humidity":82.69},{"hour":8,"temperature":22.72,"humidity":81.69},{"hour":9,"temperature":23.24,"humidity":80.74},{"hour":10,"temperature":23.6,"humidity":78.9},{"hour":11,"temperature":24.08,"humidity":76.09},{"hour":12,"temperature":24.49,"humidity":69.98},{"hour":13,"temperature":25.17,"humidity":66.67},{"hour":14,"temperature":25.56,"humidity":63.02},{"hour":15,"temperature":25.79,"humidity":62.01},{"hour":16,"temperature":25.62,"humidity":64.1},{"hour":17,"temperature":25.46,"humidity":66.85},{"hour":18,"temperature":25.27,"humidity":71.06},{"hour":19,"temperature":25.03,"humidity":74.58},{"hour":20,"temperature":24.85,"humidity":78.7},{"hour":21,"temperature":24.54,"humidity":80.45},{"hour":22,"temperature":24.18,"humidity":82.63},{"hour":23,"temperature":23.55,"humidity":79.72}],"timeLastReading":1644729905075,"timeNextEvaluation":1644731491509,"timeLastServerRequest":1644643043911,"timeLastReadingSaved":1644676427001,"operatingTemperature":23.47,"operatingHumidity":85.77,"goalTemperature":23.55,"goalHumidity":79.72,"sensorErrorCode":0,"maximumTemperatureErrorCode":0,"minimumTemperatureErrorCode":0,"maximumHumidityErrorCode":0,"minimumHumidityErrorCode":0,"statusMessage":"Operating with current conditions\\nDehumidifying","publicURL":"https://41ba-47-222-228-226.ngrok.io","sensorTypes":["DHT22","BME280"],"sensorModes":["On","Reactive","Proactive","Off"],"updateRegularityOptions":["None","Hour","Day","Week","Month"],"controlTypes":["On","Off","Day","Night","Heat","Cool","Humidify","Dehumidify","Light","Water","Fan","Extra Heat"]}')},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchData",(function(){return me}));var r=n(2),i=n.n(r),a=n(5),o=n(10),s=n(1),c=n.n(s),u=n(27),l=n.n(u),d=(n(12),n(20)),m=n(11),p=n(3),b=n(4),j=n(8),f=n.n(j),g=n(16);function h(e,t,n){var r=Object(s.useRef)();Object(s.useEffect)((function(){r.current=e}),[e]),Object(s.useEffect)((function(){var e=setInterval((function(){r.current()}),t);return n&&setTimeout((function(){clearInterval(e)}),n),function(){clearInterval(e)}}),[t])}n(69);var O=n(0),v=function(e){var t=Object(s.useState)(),n=Object(p.a)(t,2),r=n[0],i=n[1],a=Object(s.useState)(!1),o=Object(p.a)(a,2),c=o[0],u=o[1];return Object(O.jsx)("div",{id:"verify-container",style:{position:"fixed",zIndex:35,width:"100vw",height:"100vh",top:0,left:0,backgroundColor:"rgba(0,0,0,0.9)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(O.jsxs)("div",{id:"verify-inside",style:{position:"relative",display:"grid",textAlign:"center",padding:"1.0rem 2.0rem",backgroundColor:"var(--main-color)",borderRadius:"5px"},children:[Object(O.jsxs)("strong",{style:{margin:"0.5rem",width:"100%",textAlign:"left"},children:[e.prompt,":"]}),Object(O.jsxs)("div",{style:{display:"grid",backgroundColor:"black",borderRadius:"5px",padding:"0.25rem 0.5rem"},children:[Object(O.jsx)("input",{autoFocus:!0,style:{gridColumn:1,border:"none",backgroundColor:"black",color:"whitesmoke"},type:c?"text":"password",onChange:function(e){return i(e.target.value)},onKeyPress:function(t){13==t.charCode&&void 0!=r&&""!=r&&e.onSubmit(r)}}),Object(O.jsx)("input",{type:"checkbox",value:c,onClick:function(){return u(!c)},style:{gridColumn:2,border:"none",color:"var(--main-color)",height:"1.2rem",width:"1.2rem",marginLeft:"1.0rem"}})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{style:{border:"2px solid white",backgroundColor:"var(--main-color)",color:"black",padding:"0.25rem",margin:"0.5rem"},onClick:function(){return e.onCancel()},children:"CANCEL"}),Object(O.jsx)("button",{style:{border:"none",backgroundColor:"black",color:"white",padding:"0.35rem",margin:"0.5rem"},onClick:function(){void 0!=r&&""!=r&&e.onSubmit(r)},children:"SUBMIT"})]})]})})},x=(n(21),function(e){var t=Object(s.useState)(void 0),n=Object(p.a)(t,2),r=n[0],c=n[1],u=Object(s.useState)("UPDATE"),l=Object(p.a)(u,2),d=l[0],m=l[1],b=void 0!=e.verifyLevel?e.verifyLevel:1,j=void 0!=e.condense&&e.condense,f=void 0!=e.pendingText?e.pendingText:"PENDING",g=void 0!=e.buttonColor?e.buttonColor:"var(--main-color)",h=function(e){return"UPDATE"==e?g:"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},x=function(){var t=Object(a.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(void 0),1!=b||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(n);case 6:null==(r=t.sent)||void 0==r?m("UPDATE"):1==r||isNaN(r)?(m(1!=r?r:"SAVED"),setTimeout((function(){return m("UPDATE")}),5e3)):401==r?(m("PASS"),setTimeout((function(){return m("UPDATE")}),5e3),localStorage.clear()):404==r?(m("INVALID"),setTimeout((function(){return m("UPDATE")}),5e3)):(m("FAILED"),setTimeout((function(){return m("UPDATE")}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){"UPDATE"==d&&(m("PENDING"),0==b?x(void 0):1!=b||localStorage.getItem("password")?1==b?x(localStorage.getItem("password")):c("Enter Advanced Passphrase to Proceed:"):c("Enter Control Password to Continue:"))};return Object(O.jsxs)("section",{style:{overflow:"hidden"},children:[j?Object(O.jsxs)("button",{className:"settings-single-button",onClick:function(){return y()},style:Object(o.a)(Object(o.a)({},e.buttonStyle),{},{overflow:"hidden",backgroundColor:g}),children:[e.title,Object(O.jsx)("label",{className:"settings-single-button-overlay",style:{display:"UPDATE"==d?"none":"flex",overflow:"hidden",backgroundColor:h(d)},children:d})]}):Object(O.jsx)("div",{className:"settings-value-box",style:{display:j?"block":"grid"},children:Object(O.jsx)("button",{className:"settings-single-button",onClick:function(){return y()},style:Object(o.a)(Object(o.a)({},e.buttonStyle),{},{overflow:"hidden",backgroundColor:h(d)}),children:"UPDATE"==d?e.title:"PENDING"==d?f:d})}),r?Object(O.jsx)(v,{prompt:r,onSubmit:x,onCancel:function(){c(void 0),m("UPDATE")}}):Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})}),y=x,S=function(e){var t=Object(b.c)((function(e){return e.serverURL})),n=Object(b.c)((function(e){return e.data})),r=Object(s.useState)(0),i=Object(p.a)(r,2),a=i[0],o=i[1];Object(s.useEffect)((function(){return o(n.timeNextEvaluation)}),[n]);var c=Object(s.useState)(0),u=Object(p.a)(c,2),l=u[0],d=u[1];h((function(){return d(a-(new Date).getTime())}),1e3);var m=n.timeNextEvaluation>(new Date).getTime()+n.evaluationFrequency;return Object(O.jsx)(x,{title:"".concat(m?"HOLDING":"HOLD","    -  ").concat(l<=0?"evaluating":"".concat(l>36e5?"".concat(Math.floor(l/36e5),":"):"").concat(l>6e4?"".concat(Math.floor(l%36e5/6e4),":"):"").concat(l>6e4&&l%6e4<1e4?"0":"").concat(Math.floor(l%6e4/1e3))),condense:!0,buttonStyle:e.buttonStyle,buttonColor:m?"#cc5500":e.buttonColor,verifyLevel:e.verifyLevel||1,onUpdate:function(r){return setTimeout((function(){return me()}),5e3),f.a.post("".concat(t,"/postpone-evaluation/"),{PASSWORD:r,duration:e.duration||n.evaluationFrequency}).then((function(t){return o((e.duration||n.evaluationFrequency)+(new Date).getTime()),"HOLDING"})).catch((function(e){return!!e.response&&e.response.status}))}})},N="darkred",T=Object(s.forwardRef)((function(e,t){var n=Object(s.useState)(0),r=Object(p.a)(n,2),o=r[0],c=r[1],u=Object(s.useState)(0),l=Object(p.a)(u,2),d=l[0],j=l[1],v=Object(s.useState)("rgba(24, 98, 24, 0.5)"),x=Object(p.a)(v,2),S=x[0],T=x[1],C=Object(s.useState)(2),E=Object(p.a)(C,2),w=E[0],D=E[1],A=Object(s.useState)(["SERVER DISCONNECTED"]),R=Object(p.a)(A,2),L=R[0],I=R[1],k=Object(b.c)((function(e){return e.data})),U=Object(b.c)((function(e){return e.serverURL})),P=Object(b.c)((function(e){return e.convertToFahrenheit})),H=Object(b.b)(),M=Object(m.f)(),F=function(){return!e.hideDetails||0!=w},_=function(){return F()?"rgba(24, 98, 24, 0.85)":"rgba(24, 98, 24, 0.3)"},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.operatingTemperature,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.goalTemperature,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.minimumTemperature,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.maximumTemperature;return e>=r?2+1/(r-n)*(e-r):e<=n?1/(r-n)*(e-n):1-1/(r-n)*(t-e)},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.operatingHumidity,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.goalHumidity,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.minimumHumidity,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.maximumHumidity;return e>=r?2+1/(r-n)*(e-r):e<=n?1/(r-n)*(e-n):1-1/(r-n)*(t-e)};Object(s.useEffect)((function(){var e=0,t=[];void 0==k.sensorErrorCode?(e=2,t.push("SERVER DISCONNECTED")):(k.sensorErrorCode&&(e=Math.max(e,k.sensorErrorCode),t.push("SENSOR ERROR")),k.maximumTemperatureErrorCode&&(e=Math.max(e,k.maximumTemperatureErrorCode),t.push("MAXIMUM TEMPERATURE")),k.minimumTemperatureErrorCode&&(e=Math.max(e,k.minimumTemperatureErrorCode),t.push("MINIMUM TEMPERATURE")),k.maximumHumidityErrorCode&&(e=Math.max(e,k.maximumHumidityErrorCode),t.push("MAXIMUM HUMIDITY")),k.minimumHumidityErrorCode&&(e=Math.max(e,k.minimumHumidityErrorCode),t.push("MINIMUM HUMIDITY")),void 0==k.accessDatabase||k.accessDatabase||(e=Math.max(e,1),t.push("DATABASE BLOCKED"))),D(e),I(t)}),[k]),h((function(){c(k.timeNextEvaluation-(new Date).getTime()),j((new Date).getTime()-k.timeLastReading),T((function(e){return 1==w||"whitesmoke"==e?N:w>1?"whitesmoke":_()}))}),1e3);var G=function(e){return P?Math.round(100*(1.8*e+32))/100:e},z=function(){return k.operatingTemperature&&!F()?Object(O.jsx)("div",{className:"none no-size"}):Object(O.jsx)("div",{id:"condition-details",className:"none readings-box-outer",style:{},children:Object(O.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:S},children:[Object(O.jsxs)("div",{className:" readings-value-box",children:[Object(O.jsx)("strong",{className:" ",style:{gridRow:1,gridColumn:1,fontSize:"4.0rem",fontFamily:"'New Tegomin', serif"},children:w||!k.operatingTemperature?"SYSTEM ERROR":""}),k.statusMessage&&k.statusMessage.length?Object(O.jsxs)("div",{style:{display:"inline-grid",gridRow:2,gridColumn:1},children:[k.statusMessage.match(/[^\r\n]+/g).reverse().map((function(e,t){return Object(O.jsx)("p",{className:" ",style:{gridRow:t+1,gridColumn:1,overflowX:"auto",fontSize:"1.4rem",fontFamily:"'New Tegomin', serif",margin:0},children:e},"statusMessage-".concat(t))}))," "]}):Object(O.jsx)("div",{className:"none no-size"}),L.map((function(e,t){return Object(O.jsx)("strong",{className:" ",style:{gridRow:t+3,gridColumn:1,overflowX:"auto",fontSize:"1.2rem",fontFamily:"'New Tegomin', serif",margin:0,color:S==N?"white":N},children:e},"error-".concat(t))}))]}),k.operatingTemperature?Object(O.jsxs)("section",{className:"readings-value-box",children:[Object(O.jsx)("div",{id:"readings-sensor-spacer-line",className:"none",style:{gridRow:1,gridColumn:"1 / span 2",width:"80%",height:"0",margin:"0.75rem auto",borderTop:"1px solid black"}}),Object(O.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Last Sensor Reading:"}),Object(O.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Object(g.a)(k.timeLastReading,"m-d-yy HH:MM"),d>k.evaluationFrequency?" [".concat("".concat(d>36e5?"".concat(Math.floor(d/36e5),":"):"").concat(d>6e4?"".concat(Math.floor(d%36e5/6e4),":"):"").concat(d>6e4&&d%6e4<1e4?"0":"").concat(Math.floor(d%6e4/1e3)),"]"):""]}),Object(O.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Sensor Frequency:"}),Object(O.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[k.evaluationFrequency/6e4," minutes"]}),Object(O.jsx)("p",{className:"none readings-description",style:{gridRow:4,gridColumn:1},children:"Next Evaluation:"}),Object(O.jsx)("strong",{className:"none readings-value",style:{gridRow:4,gridColumn:2},children:o<=0?"Reading":o>6e4?"".concat(Math.floor(o/6e4),":").concat(o%6e4<1e4?"0":"").concat(Math.floor(o%6e4/1e3)):"".concat(Math.floor(o/1e3)," seconds")})]}):Object(O.jsx)("div",{className:"none no-size"})]})})},W=function(){return k.operatingTemperature?Object(O.jsx)("div",{id:"temperature-section",className:"none readings-box-outer",style:{marginLeft:Y?"auto":0},children:Object(O.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:w?N:_()},children:[Object(O.jsxs)("section",{className:"none readings-value-box",style:{columnGap:"0"},children:[Object(O.jsx)("strong",{className:"none readings-main-value",style:{},children:G(k.operatingTemperature)}),Object(O.jsx)("p",{className:"none ",style:{gridRow:1,gridColumn:2,verticalAlign:"top",fontSize:"1.0rem"},children:P?Object(O.jsx)("span",{children:"\u2109"}):Object(O.jsx)("span",{children:"\u2103"})})]}),F()?Object(O.jsxs)("section",{className:"readings-value-box",children:[Object(O.jsx)("p",{className:"none readings-title",style:{},children:"Temperature"}),Object(O.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Efficiency:"}),Object(O.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Math.floor(100*V()),"%"]}),Object(O.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Range:"}),Object(O.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[G(k.minimumTemperature)," - ",G(k.maximumTemperature),P?Object(O.jsx)("span",{children:"\u2109"}):Object(O.jsx)("span",{children:"\u2103"})]})]}):Object(O.jsx)("div",{className:"none no-size"})]})}):Object(O.jsx)("div",{id:"temperature-section",className:"none no-size"})},J=function(){return k.operatingHumidity?Object(O.jsx)("div",{id:"humidity-section",className:"none readings-box-outer",style:{marginRight:Y?"auto":"0"},children:Object(O.jsxs)("div",{className:"readings-box-inner",style:{backgroundColor:w?N:_()},children:[Object(O.jsxs)("section",{className:"none readings-value-box",style:{columnGap:"0"},children:[Object(O.jsx)("strong",{className:"none readings-main-value",style:{},children:Math.round(100*k.operatingHumidity)/100}),Object(O.jsx)("p",{className:"none ",style:{gridRow:1,gridColumn:2,verticalAlign:"top",fontSize:"1.0rem"},children:"%"})]}),F()?Object(O.jsxs)("section",{className:"readings-value-box",children:[Object(O.jsx)("p",{className:"none readings-title",style:{textAlign:"center"},children:"Humidity"}),Object(O.jsx)("p",{className:"none readings-description",style:{gridRow:2,gridColumn:1},children:"Efficiency:"}),Object(O.jsxs)("strong",{className:"none readings-value",style:{gridRow:2,gridColumn:2},children:[Math.floor(100*B()),"%"]}),Object(O.jsx)("p",{className:"none readings-description",style:{gridRow:3,gridColumn:1},children:"Range:"}),Object(O.jsxs)("strong",{className:"none readings-value",style:{gridRow:3,gridColumn:2},children:[k.minimumHumidity," - ",k.maximumHumidity,"%"]})]}):Object(O.jsx)("div",{className:"none no-size"})]})}):Object(O.jsx)("div",{id:"humidity-section",className:"none no-size"})},q=Object(s.useState)(window.innerWidth<900),K=Object(p.a)(q,2),Y=K[0],X=K[1];Object(s.useEffect)((function(){setTimeout((function(){var e=document.getElementById("temperature-section").getBoundingClientRect().top,t=document.getElementById("humidity-section").getBoundingClientRect().top;void 0!=e&&e!=t&&X(!0)}),500)}),[]);var Z=function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return n=e.sent,M.push("/"),e.abrupt("return",1==n?"UPDATING":n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H({type:"toggleConvertToFahrenheit"}),e.abrupt("return",null);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=k.sensorErrorCode){e.next=4;break}M.push("/settings"),e.next=13;break;case 4:if(!w){e.next=8;break}M.push("/log"),e.next=13;break;case 8:if(!F()){e.next=13;break}return setTimeout((function(){return me()}),6e4),e.next=12,f.a.put("".concat(U,"/evaluate/"),{PASSWORD:t}).then((function(e){return"EVALUATING"})).catch((function(e){return!!e.response&&e.response.status}));case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Y?Object(O.jsxs)("div",{ref:t,id:"readings-container",className:"readings-align",children:[Object(O.jsx)(y,{title:z(),condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",borderRadius:"0.75rem"},verifyLevel:w?0:1,pendingText:"INITIATING",onUpdate:Q}),Object(O.jsx)(y,{title:W(),condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",borderRadius:"0.75rem"},verifyLevel:0,onUpdate:$}),Object(O.jsx)(y,{title:J(),condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",borderRadius:"0.75rem"},verifyLevel:0,pendingText:"RETRIEVING",onUpdate:Z})]}):Object(O.jsxs)("div",{ref:t,id:"readings-container",className:"readings-top",children:[Object(O.jsx)(y,{title:W(),condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",borderRadius:"0.75rem"},verifyLevel:0,onUpdate:$}),Object(O.jsx)(y,{title:z(),condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",borderRadius:"0.75rem"},verifyLevel:w?0:1,pendingText:"INITIATING",onUpdate:Q}),Object(O.jsx)(y,{title:J(),condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",borderRadius:"0.75rem"},verifyLevel:0,pendingText:"RETRIEVING",onUpdate:Z})]})})),C=T,E=n.p+"static/media/terrarium-buddies.3158d65c.jpg",w=(n(73),function(e){var t=Object(b.c)((function(e){return e.image}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{style:{position:"absolute",zIndex:0,height:"100vh",width:"100vw",backgroundColor:"black"}},"background-black"),Object(O.jsx)("div",{style:{position:"absolute"},children:Object(O.jsx)("img",{className:"blur-effect",src:t.location||E,alt:"background-image",style:{zIndex:"2",display:"block",objectFit:"cover",overflow:"hidden",width:"100vw",height:"100vh",opacity:t.visible?.9:.3,transition:"all ".concat(.6*t.TRANSITION_INTERVAL,"ms ease")}})},"Background Image")]},"Background Component")}),D=function(e){var t=Object(b.c)((function(e){return e.data})),n=Object(s.useState)(0),r=Object(p.a)(n,2),i=r[0],a=r[1];return h((function(){a((new Date).getTime()-t.timeLastReading)}),1e3),Object(O.jsxs)("div",{className:"none border-box",style:{position:"fixed",bottom:0,width:"100%",padding:"0.3rem 1.0rem",display:"flex",justifyContent:"space-between",backgroundColor:"black",color:"whitesmoke",fontSize:"0.8rem",whiteSpace:"wrap",overflowX:"scroll"},children:[Object(O.jsx)("p",{className:"none",style:{whiteSpace:"nowrap",left:0},children:Object(g.a)((new Date).getTime(),"dddd, mmmm d, yyyy h:MM")}),Object(O.jsx)("p",{className:"none",style:{whiteSpace:"nowrap",right:"100vw"},children:isNaN(i)?"Disconnected":i>6e4?"".concat(Math.floor(i/6e4),":").concat(i%6e4<1e4?"0":"").concat(Math.floor(i%6e4/1e3)):"".concat(Math.floor(i/1e3)," seconds")})]})},A=c.a.forwardRef((function(e,t){var n=Object(b.c)((function(e){return e.image})),r=Object(b.c)((function(e){return e.data})),i=Object(s.useState)(!1),a=Object(p.a)(i,2),o=a[0],c=a[1],u=Object(b.c)((function(e){return e.isScreenSaverActive})),l=Object(s.useState)(!0),d=Object(p.a)(l,2),j=d[0],f=d[1],g=Object(s.useState)("0"),h=Object(p.a)(g,2),v=h[0],x=h[1];Object(s.useEffect)((function(){u&&!o?(f(!0),setTimeout((function(){return x("1")}),600)):(setTimeout((function(){return x("0")}),600),setTimeout((function(){return f(!1)}),1e3))}),[u,o]);var y=Object(b.c)((function(e){return e.screenSaverBrightness})),S=Object(b.b)(),N=Object(m.f)(),T=function(){if("Black"==y.setting)return 1;if("Scheduled"==y.setting){var e=19,t=[{hour:y.blackHourStart,opacity:0},{hour:y.dayHourStart,opacity:y.dayOpacity},{hour:y.nightHourStart,opacity:y.nightOpacity}];if(t=t.sort((function(e,t){return e.hour-t.hour})),console.log(t),e>=t[0].hour&&(e<t[1].hour||t[0].hour==t[1].hour)&&t[0].hour>=0&&t[0].hour<=23)return t[0].opacity;if(e>=t[1].hour&&(e<t[2].hour||t[1].hour==t[2].hour)&&t[1].hour>=0&&t[1].hour<=23)return t[1].opacity;if(e>=t[2].hour||e<t[0].hour&&t[2].hour>=0&&t[2].hour<=23)return t[2].opacity}return 1};Object(s.useEffect)((function(){void 0==r.sensorErrorCode||r.sensorErrorCode||r.maximumTemperatureErrorCode||r.minimumTemperatureErrorCode||r.maximumHumidityErrorCode||r.minimumHumidityErrorCode||void 0!=r.accessDatabase&&!r.accessDatabase?c(!0):c(!1)}),[r]);var w=Object(s.useRef)(),A=Object(s.useRef)(),R=Object(s.useCallback)((function(e){S({type:"deactivateScreenSaver"}),clearTimeout(w.current),w.current=setTimeout((function(){return S({type:"activateScreenSaver"})}),e||n.SCREENSAVER_INACTIVE_TIME),clearTimeout(A.current),u&&(A.current=setTimeout((function(){return N.push("/")}),3*(e||n.SCREENSAVER_INACTIVE_TIME)))}),[]);return Object(s.useEffect)((function(){return R()}),[]),Object(s.useImperativeHandle)(t,(function(){return{deactivateScreenSaver:function(){R()}}})),j?Object(O.jsxs)("div",{style:{zIndex:20,position:"absolute",width:"100vw",height:"100vh",opacity:v,transition:"all ".concat(.5*n.TRANSITION_INTERVAL,"ms ease")},children:[Object(O.jsx)("div",{style:{position:"absolute",height:"100vh",width:"100vw",backgroundColor:"black"}},"ScreenSaver-black"),Object(O.jsx)("div",{style:{position:"absolute"},children:Object(O.jsx)("img",{className:"",src:n.location||E,alt:"screensaver",style:{display:"block",objectFit:"cover",overflow:"hidden",width:"100vw",height:"100vh",opacity:n.isVisible?T():T()>.2?.2:0,transition:"all ".concat(.6*n.TRANSITION_INTERVAL,"ms ease")}})},"ScreenSaver Image"),Object(O.jsx)(C,{hideDetails:!0}),Object(O.jsx)(D,{})]},"ScreenSaver Component"):Object(O.jsx)("div",{className:"none no-size"})})),R=(n(74),n.p+"static/media/frog-logo.61394956.png"),L=Object(s.forwardRef)((function(e,t){var n=Object(m.f)(),r=Object(m.g)(),i=Object(b.b)();return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{id:"menu-container-spacer"}),Object(O.jsxs)("div",{ref:t,id:"menu-container",className:" border-box",children:[Object(O.jsxs)("div",{className:"menu-icon-box",style:{textDecoration:"none"},onClick:function(){"/"==r.pathname?setTimeout((function(){return i({type:"activateScreenSaver"})}),1500):n.push("/")},children:[Object(O.jsx)("img",{className:"menu-icon",src:R}),Object(O.jsx)("strong",{className:"menu-icon-text",children:"Current"})]}),Object(O.jsxs)(d.b,{to:"/controls",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(O.jsx)("img",{className:"menu-icon",src:R}),Object(O.jsx)("strong",{className:"menu-icon-text",children:"Controls"})]}),Object(O.jsxs)(d.b,{to:"/schedules",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(O.jsx)("img",{className:"menu-icon",src:R}),Object(O.jsx)("strong",{className:"menu-icon-text",children:"Schedules"})]}),Object(O.jsxs)(d.b,{to:"/climate",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(O.jsx)("img",{className:"menu-icon",src:R}),Object(O.jsx)("strong",{className:"menu-icon-text",children:"Climate"})]}),Object(O.jsxs)(d.b,{to:"/history",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(O.jsx)("img",{className:"menu-icon",src:R}),Object(O.jsx)("strong",{className:"menu-icon-text",children:"History"})]}),Object(O.jsxs)("div",{className:"menu-icon-box",style:{textDecoration:"none"},onClick:function(){"/settings"==r.pathname?n.push("/log"):n.push("/settings")},children:[Object(O.jsx)("img",{className:"menu-icon",src:R}),Object(O.jsx)("strong",{className:"menu-icon-text",children:"Settings"})]}),Object(O.jsxs)(d.b,{to:"/log",className:"menu-icon-box",style:{textDecoration:"none"},children:[Object(O.jsx)("img",{className:"menu-icon",src:R}),Object(O.jsx)("strong",{className:"menu-icon-text",children:"Log"})]})]})]})})),I=n(6),k=[{name:"1m",value:6e4},{name:"2m",value:12e4},{name:"3m",value:18e4},{name:"4m",value:24e4},{name:"5m",value:3e5},{name:"6m",value:36e4},{name:"7m",value:42e4},{name:"8m",value:48e4},{name:"9m",value:54e4},{name:"10m",value:6e5},{name:"15m",value:9e5},{name:"30m",value:18e5},{name:"45m",value:27e5},{name:"1h",value:36e5},{name:"2h",value:72e5},{name:"3h",value:108e5},{name:"4h",value:144e5},{name:"5h",value:18e6},{name:"6h",value:216e5},{name:"12h",value:432e5},{name:"1d",value:864e5},{name:"3d",value:2592e5},{name:"1w",value:6048e5},{name:"2w",value:12096e5},{name:"1M",value:2592e6}],U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{var n=parseInt(e);return n/2592e6>=1?"".concat(Math.floor(n/2592e6*(10*t))/(10*t),"M"):n/6048e5>=1?"".concat(Math.floor(n/6048e5*(10*t))/(10*t),"w"):n/864e5>=1?"".concat(Math.floor(n/864e5*(10*t))/(10*t),"d"):n/36e5>=1?"".concat(Math.floor(n/36e5*(10*t))/(10*t),"h"):n/6e4>=1?"".concat(Math.floor(n/6e4),"m"):"ZERO"}catch(r){return"INVALID"}},P=function(e){try{var t=/\d+/.exec(e)[0],n=parseInt(t),r=/[a-zA-Z]+/.exec(e)[0];return"m"==r?60*n*1e3:"h"==r?60*n*60*1e3:"d"==r?24*n*60*60*1e3:"w"==r?7*n*24*60*60*1e3:"M"==r?30*n*24*60*60*1e3:n}catch(i){return 0}},H=(n(75),function(e){var t=Object(s.useState)(1),n=Object(p.a)(t,2),r=n[0],i=n[1],a=(h((function(){i((e.until-(new Date).getTime())*(e.until-(new Date).getTime()<0?-1:1))}),1e3),/(severe|schedule|toggle|immediate)/i.test(e.topReason)),o=/(severe|extreme)/i.test(e.topReason);return Object(O.jsx)("div",{className:"none control-toggle-outer",style:{},onClick:e.onClick,children:Object(O.jsxs)("div",{className:"none control-toggle-inner",style:{borderColor:e.isSelected?"whitesmoke":e.select?"transparent":a?"var(--accent-color)":"transparent",backgroundColor:o?"darkred":e.active?"rgba(0, 102, 0, 0.6)":"rgba(0, 0, 0, 0.5)"},children:[Object(O.jsx)("strong",{className:"none control-toggle-text",children:e.title}),Object(O.jsx)("p",{className:"none control-toggle-timer",style:{},children:e.topReason}),Object(O.jsx)("p",{className:"none control-toggle-timer",style:{fontSize:"0.75rem",color:e.until-(new Date).getTime()<0?"gold":null},children:e.until<=0?"".concat(e.active?"ON":"OFF"," : INDEFINITELY"):"".concat(r>36e5?"".concat(Math.floor(r/36e5),":"):"").concat(r>6e4?"".concat(Math.floor(r%36e5/6e4),":"):"").concat(r>6e4&&r%6e4<1e4?"0":"").concat(Math.floor(r%6e4/1e3))})]})})});function M(e){var t=Object(b.c)((function(e){return e.serverURL})),n=Object(b.c)((function(e){return e.data})),r=Object(s.useState)(10),o=Object(p.a)(r,2),c=o[0],u=o[1],l=Object(s.useState)(!1),d=Object(p.a)(l,2),m=d[0],j=d[1],g=Object(s.useState)([]),h=Object(p.a)(g,2),v=h[0],x=h[1],N=Object(s.useState)([]),T=Object(p.a)(N,2),C=T[0],E=T[1];Object(s.useEffect)((function(){void 0!=n.controlTypes&&E(n.controlTypes);var e=k.findIndex((function(e){return e.value>n.timeNextEvaluation-(new Date).getTime()}))-1;e>0&&u(e)}),[n]);var w=function(e){for(var t=0;t<n.controlTypes.length;t++){for(var r=!0,i=0;i<n.CONTROLS.length;i++)if(e.includes(n.CONTROLS[i].name)&&!n.CONTROLS[i].types.includes(n.controlTypes[t])||!e.includes(n.CONTROLS[i].name)&&n.CONTROLS[i].types.includes(n.controlTypes[t])){r=!1;break}if(r)return"[".concat(n.controlTypes[t],"]")}var a="";return e.forEach((function(e){return a+="-"+e.match(/\b(\w)/g).join(".")})),"(".concat(a.substring(1).toUpperCase(),")")},D=function(){var e=Object(a.a)(i.a.mark((function e(n,r){var a,o,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(s.length>2&&void 0!==s[2])||s[2],o=s.length>3&&void 0!==s[3]?s[3]:"Immediate ".concat(w(r)),e.next=4,f.a.post("".concat(t,"/schedule-add/"),{PASSWORD:n,time:(new Date).getTime(),title:o,names:JSON.stringify(r),duration:k[c].value,set:a||"true"==a,repeat:0}).then((function(e){return setTimeout((function(){return me()}),4e3),"EXECUTING"})).catch((function(e){return!!e.response&&e.response.status}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{id:"control-container",children:[Object(O.jsxs)("div",{id:"duration-box",children:[Object(O.jsx)("label",{id:"duration-label",style:{color:"white"},onClick:function(){return u(10)},children:k[c].name}),Object(O.jsx)("input",{id:"duration-slider",type:"range",min:0,max:k.length-1,value:c,onChange:function(e){return u(e.target.value)}})]}),Object(O.jsx)("div",{id:"control-box",children:void 0===n.CONTROLS?Object(O.jsx)("div",{}):n.CONTROLS.map((function(e){return Object(O.jsx)(y,{title:Object(O.jsx)(H,{title:e.name,active:e.settings[0].set||"true"==e.settings[0].set,topReason:e.settings[0].reason,until:e.settings[0].until,select:m,isSelected:v.includes(e.name),onClick:function(){}}),pendingText:"SCHEDULING",condense:!0,buttonColor:"transparent",buttonStyle:{border:"none",margin:"1.0rem",padding:"0",width:"15.0rem"},verifyLevel:1,onUpdate:function(t){return m?(v.includes(e.name)?x((function(t){return Object(I.a)(t.filter((function(t){return t!==e.name})))})):x((function(t){return[].concat(Object(I.a)(t),[e.name])})),null):D(t,[e.name],!(e.settings[0].set||"true"==e.settings[0].set),"Toggle ".concat(w([e.name])))}},e.name)}))}),Object(O.jsxs)("div",{id:"control-select-box",children:[Object(O.jsx)(y,{title:"ALL",pendingText:"ACTIVATING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return m?x(Object(I.a)(n.CONTROLS.map((function(e){return e.name})))):D(e,Object(I.a)(n.CONTROLS.map((function(e){return e.name}))),!0,"ALL ON")}}),Object(O.jsx)(y,{title:"ACTIVE",pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return m?x(Object(I.a)(n.CONTROLS.filter((function(e){return e.settings[0].set})).map((function(e){return e.name})))):D(e,Object(I.a)(n.CONTROLS.filter((function(e){return e.settings[0].set})).map((function(e){return e.name}))),!1,"DEACTIVATING")}}),Object(O.jsx)(y,{title:"INACTIVE",pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return m?x(Object(I.a)(n.CONTROLS.filter((function(e){return!e.settings[0].set})).map((function(e){return e.name})))):D(e,Object(I.a)(n.CONTROLS.filter((function(e){return!e.settings[0].set})).map((function(e){return e.name}))),!0,"ACTIVATING")}}),C.map((function(e,t){return Object(O.jsx)(y,{title:e,pendingText:"SCHEDULING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(t){return m?x((function(t){return Object(I.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name}))).every((function(e,t,n){return v.includes(e)}))?Object(I.a)(n.CONTROLS.filter((function(n){return!n.types.includes(e)&&t.includes(e)})).map((function(e){return e.name}))):Object(I.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name})))})):D(t,Object(I.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})).map((function(e){return e.name}))),!Object(I.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)}))).every((function(e,t,n){return e.settings[0].set==n[0].settings[0].set}))||!Object(I.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)}))).length||!Object(I.a)(n.CONTROLS.filter((function(t){return t.types.includes(e)})))[0].settings[0].set,"Immediate ".concat(e))}},e)})),Object(O.jsx)(y,{title:"NONE",pendingText:"DEACTIVATING",condense:!0,buttonColor:"rgba(0, 0, 0, 0.95)",buttonStyle:{border:"none",padding:"0.70rem 2rem",fontSize:"0.9rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem"},verifyLevel:1,onUpdate:function(e){return m?x([]):D(e,Object(I.a)(n.CONTROLS.map((function(e){return e.name}))),!1,"ALL OFF")}})]}),m?Object(O.jsxs)("div",{id:"control-select-box",children:[Object(O.jsx)(y,{title:"ON",pendingText:"ACTIVATING",condense:!0,buttonStyle:{border:"none",padding:"0.45rem 2rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem",color:"black"},verifyLevel:1,onUpdate:function(e){return D(e,v,!0)}}),Object(O.jsx)(y,{title:"OFF",pendingText:"DEACTIVATING",condense:!0,buttonStyle:{border:"none",padding:"0.45rem 2rem",width:"auto",minWidth:"6.0rem",borderRadius:"0.5rem",color:"black"},verifyLevel:1,onUpdate:function(e){return D(e,v,!1)}}),Object(O.jsx)("button",{className:"none control-button control-button-exit",onClick:function(){j(!1),x([])},children:"Exit"})]}):Object(O.jsx)("div",{id:"control-select-box",children:Object(O.jsx)("button",{className:"none control-button",onClick:function(){return j(!0)},children:"Select"})}),Object(O.jsx)(S,{duration:k[c].value,verifyLevel:k[c].value<864e5?1:2,buttonStyle:{padding:"0.4rem"}})]})}var F=n(13),_=(n(76),function(e){return"UPDATE"==e||""==e?"var(--main-color)":"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"}),V=function(e){var t,n=Object(s.useState)(e.customDefault),r=Object(p.a)(n,2),i=r[0],a=r[1],o=Object(s.useState)(e.multipleList),c=Object(p.a)(o,2),u=c[0],l=c[1],d=Object(b.c)((function(e){return e.dropListOpen})),m=Object(b.b)();Object(s.useEffect)((function(){l(e.multipleList)}),[e.multipleList]),Object(s.useEffect)((function(){a(e.customDefault)}),[e.customDefault]);var j=void 0!=e.buttonColor?e.buttonColor:"",f=void 0!=e.customName&&e.customName,g=void 0!=e.inputType?e.inputType:"text",h=void 0!=u;return Object(O.jsxs)("div",{className:"schedule-drop-menu-container",style:e.outerStyle,onFocus:function(){},onBlur:function(){},children:[Object(O.jsxs)("button",{className:"schedule-input schedule-drop-menu-button ".concat(e.buttonStyleClass||""),style:{color:isNaN(e.value)?"white":j,backgroundColor:isNaN(e.value)?j:null},onClick:function(){return m({type:"setDropList",payload:e.dropListId})},children:[void 0!=e.value?e.value:void 0!=e.multipleList?e.multipleList.toString():"",e.subValue?Object(O.jsxs)("span",{children:[Object(O.jsx)("label",{style:{color:"grey",margin:"0 0.5rem"},children:"|"}),Object(O.jsx)("label",{style:{color:"orange"},children:e.subValue||""})]}):null]}),d==e.dropListId?Object(O.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:e.options.length<=5?null:"5vh"},children:[Object(O.jsx)("button",{className:"schedule-drop-menu-item",style:{borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){m({type:"setDropList"})},children:"Cancel"},"cancel-button"),h?Object(O.jsx)("button",{className:"schedule-drop-menu-item schedule-save-button",style:{borderBottom:"1px solid whitesmoke",marginTop:0},onClick:function(){e.onSelect(u),m({type:"setDropList"})},children:"SAVE"},"save-button-1"):Object(O.jsx)("div",{className:"none no-size"}),e.options.map((function(t,n){return Object(O.jsx)("button",{className:"schedule-drop-menu-item",style:{border:(h?u.includes(t):e.value==t)?"1px solid var(--main-color)":"none",backgroundColor:"UPDATE"==t?"var(--main-color)":"DELETE"==t?"red":"",color:"UPDATE"==t?"white":"DELETE"==t?"black":""},onClick:function(){h&&u.includes(t)?l(u.filter((function(e){return e!=t}))):h?l([].concat(Object(I.a)(u),[t])):(e.onSelect(t),m({type:"setDropList"}))},children:t},"".concat(t,"-").concat(JSON.stringify(u)))})),e.extraList&&h?Object(O.jsx)("button",{className:"schedule-drop-menu-item schedule-save-button",style:{borderTop:"1px solid whitesmoke",borderBottom:"1px solid whitesmoke"},onClick:function(){e.onSelect(u),m({type:"setDropList"})},children:e.extraName||"SAVE"},"save-button-2"):Object(O.jsx)("div",{className:"none no-size"}),e.extraList?e.extraList.map((function(t,n){return Object(O.jsx)("button",{className:"schedule-drop-menu-item",style:{border:(h?u.includes(t):e.value==t)?"1px solid var(--main-color)":"none",backgroundColor:"UPDATE"==t?"var(--main-color)":"DELETE"==t?"red":"",color:"UPDATE"==t?"white":"DELETE"==t?"black":""},onClick:function(){e.onExtra(t),m({type:"setDropList"})},children:t},"".concat(t,"-").concat(JSON.stringify(u)))})):null,f?Object(O.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(O.jsx)("input",{type:g,className:"schedule-drop-menu-item",style:(t={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(F.a)(t,"border","1px solid whitesmoke"),Object(F.a)(t,"backgroundColor","black"),Object(F.a)(t,"color","white"),t),value:i,onChange:function(e){return a(e.target.value)},onKeyPress:function(t){13==t.charCode&&(e.onSelect(h?[].concat(Object(I.a)(u),[i]):i),m({type:"setDropList"}))}},"settings-add-input"),Object(O.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(h?[].concat(Object(I.a)(u),[i]):i),m({type:"setDropList"})},children:f},"settings-add-button")]}):Object(O.jsx)("div",{className:"none no-size"}),h?Object(O.jsx)("button",{className:"schedule-save-button schedule-drop-menu-item ",style:{borderTop:"1px solid whitesmoke",marginBottom:0},onClick:function(){e.onSelect(u),m({type:"setDropList"})},children:"SAVE"},"save-button-3"):Object(O.jsx)("div",{className:"none no-size"})]}):Object(O.jsx)("div",{})]})},B=function(e){var t=parseInt(e)||0,n=new Date;n.setHours(0,0,0,0);var r=new Date(n.getTime()+864e5),i=new Date(n.getTime()-864e5);if(t>=n.getTime()&&t<r.getTime())return"Today";if(t>=r.getTime()&&t<new Date(r.getTime()+864e5).getTime())return"Tomorrow";if(t>=new Date(i.getTime()-864e5).getTime()&&t<n.getTime())return"Yesterday";if(t>=new Date(n.getTime()-5184e5).getTime()&&t<=new Date(n.getTime()+6048e5).getTime()){var a=new Date(t).getDay();return 0==a?"Sunday":1==a?"Monday":2==a?"Tuesday":3==a?"Wednesday":4==a?"Thursday":5==a?"Friday":6==a?"Saturday":"New Day"}return function(e){var t=parseInt(e)||0,n=new Date(t).getDate();return 1==n||21==n||31==n?"".concat(Object(g.a)(t,"mmm"),", ").concat(n,"st"):2==n||22==n?"".concat(Object(g.a)(t,"mmm"),", ").concat(n,"nd"):3==n||23==n?"".concat(Object(g.a)(t,"mmm"),", ").concat(n,"rd"):"".concat(Object(g.a)(t,"mmm"),", ").concat(n,"th")}(t)},G=function(){var e=[],t=new Date;t=t.setHours(7,0,0,0);for(var n=0;n<30;n++)e.push(t),t+=864e5;return e},z=function(e){var t,n,r=Object(b.c)((function(e){return e.dropListOpen})),i=Object(s.useState)(e.time),a=Object(p.a)(i,2),o=a[0],c=a[1],u=Object(b.b)();return Object(O.jsxs)("div",{className:"schedule-drop-menu-container",style:e.outerStyle,onFocus:function(){},onBlur:function(){},children:[Object(O.jsx)("button",{className:"schedule-input schedule-drop-menu-button ".concat(e.buttonStyleClass||""),onClick:function(){return u({type:"setDropList",payload:e.dropListId})},children:"".concat(B(e.time)," ").concat(Object(g.a)(parseInt(e.time)||0,"H:MM"))}),r==e.dropListId?Object(O.jsxs)("div",{className:"schedule-drop-date-menu",style:{},children:[Object(O.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:"5vh",gridRow:1,gridColumn:1,left:"2.0rem"},children:[Object(O.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:1,borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){u({type:"setDropList"})},children:"Cancel"},"cancel-button"),G().map((function(t,n){return Object(O.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:n+2,border:new Date(e.time).getMonth()==new Date(t).getMonth()&&new Date(e.time).getDate()==new Date(t).getDate()?"1px solid var(--main-color)":"none"},onClick:function(){e.onSelect(t)},children:B(t)},t)})),Object(O.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(O.jsx)("input",{type:"number",step:864e5,className:"schedule-drop-menu-item",style:(t={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(F.a)(t,"border","1px solid whitesmoke"),Object(F.a)(t,"backgroundColor","black"),Object(F.a)(t,"color","white"),t),value:o,onChange:function(e){return c(e.target.value)},onKeyPress:function(t){13==t.charCode&&(e.onSelect(o),u({type:"setDropList"}))}},"settings-add-input"),Object(O.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(o),u({type:"setDropList"})},children:"EPOCH"},"settings-add-button")]})]}),Object(O.jsxs)("div",{className:"schedule-drop-menu-list",style:{top:"5vh",gridRow:1,gridColumn:1,right:"2.0rem"},children:[Object(O.jsx)("label",{className:"schedule-drop-menu-item",style:{gridRow:1,borderBottom:"1px solid whitesmoke",color:"var(--main-color)"},onClick:function(){u({type:"setDropList"})},children:"Cancel"},"cancel-button"),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((function(t,n){return Object(O.jsxs)("label",{className:"schedule-drop-menu-item",style:{gridRow:n+2,border:new Date(e.time).getHours()==t?"1px solid var(--main-color)":"none"},onClick:function(){e.onSelect(new Date(e.time).setHours(t,0,0,0)),c(new Date(e.time).setHours(t,0,0,0)),u({type:"setDropList"})},children:[t," : 00"]},t)})),Object(O.jsxs)("div",{className:"none",style:{display:"inline-grid",gridColumn:1},children:[Object(O.jsx)("input",{type:"number",step:60,className:"schedule-drop-menu-item",style:(n={gridColumn:1,width:"10.0rem",border:"none",borderRadius:0},Object(F.a)(n,"border","1px solid whitesmoke"),Object(F.a)(n,"backgroundColor","black"),Object(F.a)(n,"color","white"),n),value:60*new Date(o).getHours()+new Date(o).getMinutes(),onChange:function(t){return c(new Date(e.time).setHours(0,t.target.value,0,0))},onKeyPress:function(t){13==t.charCode&&(e.onSelect(o),u({type:"setDropList"}))}},"settings-add-input"),Object(O.jsx)("button",{className:"schedule-drop-menu-item",style:{gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){e.onSelect(o),u({type:"setDropList"})},children:"Time (m)"},"settings-add-button")]})]})]}):Object(O.jsx)("div",{})]})},W=function(e){var t=Object(b.c)((function(e){return e.data})),n=Object(b.b)(),r=Object(s.useState)(void 0),o=Object(p.a)(r,2),c=o[0],u=o[1],l=Object(s.useState)(void 0),d=Object(p.a)(l,2),m=d[0],j=d[1],f=Object(s.useState)(""),g=Object(p.a)(f,2),h=g[0],x=g[1],S=Object(s.useState)(e.priority||null),N=Object(p.a)(S,2),T=N[0],C=N[1],E=Object(s.useState)(e.time||(new Date).setMinutes(0,0,0)),w=Object(p.a)(E,2),D=w[0],A=w[1],R=Object(s.useState)(e.title||""),L=Object(p.a)(R,2),H=L[0],M=L[1],F=Object(s.useState)(e.names||[]),B=Object(p.a)(F,2),G=B[0],W=B[1],J=Object(s.useState)(e.duration||9e5),q=Object(p.a)(J,2),K=q[0],Y=q[1],X=Object(s.useState)(e.set||!0),Z=Object(p.a)(X,2),$=Z[0],Q=Z[1],ee=Object(s.useState)(e.repeat||0),te=Object(p.a)(ee,2),ne=te[0],re=te[1],ie=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C(e.priority||null),A(t||void 0==e.time?(new Date).setMinutes(0,0,0):e.time),M(t||void 0==e.title?"":e.title),W(t||void 0==e.names?[]:e.names),Y(t||void 0==e.duration?9e5:e.duration),Q(!(!t&&void 0!=e.set)||e.set),re(t||void 0==e.repeat?0:e.repeat),t&&x("NEW")};Object(s.useEffect)((function(){return ie()}),[e]);var ae=void 0!=e.verifyLevel?e.verifyLevel:1,oe=void 0!=e.insertNew,se=function(){if(!e.names)return!0;if(Array.isArray(e.names))for(var t=0;t<e.names.length;t++)if(!G.includes(e.names[t]))return!0;if(Array.isArray(G))for(var n=0;n<G.length;n++)if(!e.names.includes(G[n]))return!0;return!1},ce=function(){return!e.time||e.time!=D},ue=function(){return!e.title||e.title!=H},le=function(){return!e.duration||e.duration!=K},de=function(){return e.set!=$},me=function(){return void 0==e.repeat||e.repeat!=ne},pe=function(){return!!ce()||(!!ue()||(!(e.names&&!se())||(!!le()||(!!de()||!!me()))))},be=function(){if(Array.isArray(G)){if(0==G.length)return!1;for(var e=0;e<G.length;e++)if(void 0==G[e])return!1}else if(!G||!G.length)return!1;return!0},je=function(){return D&&!isNaN(D)},fe=function(){return H&&""!=H},ge=function(){return K&&!isNaN(K)},he=function(){return 0==$||1==$},Oe=function(){return null!=ne&&void 0!=ne&&!isNaN(ne)};Object(s.useEffect)((function(){var e=pe()?"UPDATE":"";je()||(e="TIME"),fe()||(e="TITLE"),be()||(e="CONTROLS"),ge()||(e="DURATION"),he()||(e="SET"),Oe()||(e="REPEAT"),x(e)}),[T,D,H,G,K,$,ne]);var ve=function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(j(void 0),1!=ae||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(r||c,n,T,D,H,G,K,$,ne);case 6:return 1==(a=t.sent)||isNaN(a)?(x(1!=a?a:"SAVED"),setTimeout((function(){oe&&ie(!0)}),5e3)):401==a?(x("PASS"),localStorage.clear(),setTimeout((function(){return x("UPDATE")}),5e3)):404==a?(x("INVALID"),setTimeout((function(){return ie()}),5e3)):(x("FAILED"),setTimeout((function(){return ie()}),5e3)),u(void 0),t.abrupt("return",h);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),xe=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x("PENDING"),t&&u(t),0==ae?ve(void 0,t):1!=ae||localStorage.getItem("password")?1==ae?ve(localStorage.getItem("password"),t):j("Enter Advanced Passphrase to Proceed:"):j("Enter Control Password to Continue:");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"none schedule-row",children:[oe?Object(O.jsx)(y,{title:"UPDATE"!=h?h:"SAVE",buttonColor:"UPDATE"!=h?"orange":"var(--main-color)",buttonStyle:{gridRow:1,gridColumn:1,height:"85%",width:"auto",maxWidth:"100%",overflowX:"auto"},pendingText:"SCHEDULING",condense:!0,verifyLevel:1,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("UPDATE"!=h){e.next=6;break}return e.next=3,ve(t,"INSERT");case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=!1;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):Object(O.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:1,backgroundColor:""!=h?"transparent":D<t.timeNextEvaluation?"black":null},children:Object(O.jsx)(V,{value:""==h?T:h,dropListId:"".concat(JSON.stringify(e),"-update"),subValue:e.overriddenList&&e.overriddenList.length?"".concat(e.overriddenList.join(", ")):void 0,buttonColor:_(h),customName:"PRIORITY",inputType:"number",customDefault:T,options:function(){var e=["DELETE","INCREASE","DECREASE"];return pe()&&e.unshift("RESET"),"UPDATE"==h&&e.unshift("UPDATE"),e}(),onSelect:function(e){"RESET"==e?ie(oe):xe(e)}})}),Object(O.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:2,backgroundColor:D<t.timeNextEvaluation?"black":null,border:je()?ce()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(O.jsx)(z,{dropListId:"".concat(JSON.stringify(e),"-time"),time:D,onSelect:function(e){return A(parseInt(e)||D)}})}),Object(O.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:3,backgroundColor:D<t.timeNextEvaluation?"black":null,border:fe()?ue()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(O.jsx)("input",{type:"text",className:"schedule-input schedule-drop-menu-button",onClick:function(){return n({type:"setDropList"})},value:H,onChange:function(e){return M(e.target.value)}})}),Object(O.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:4,backgroundColor:D<t.timeNextEvaluation?"black":null,border:be()?se()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(O.jsx)(V,{value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth;if(!t.CONTROLS||!G||0==G.length)return"[]";if(void 0!=t.CONTROLS&&G.length==t.CONTROLS.length)return"[ALL]";for(var n=0;n<t.controlTypes.length;n++){for(var r=!0,i=0;i<t.CONTROLS.length;i++)if(G.includes(t.CONTROLS[i].name)&&!t.CONTROLS[i].types.includes(t.controlTypes[n])||!G.includes(t.CONTROLS[i].name)&&t.CONTROLS[i].types.includes(t.controlTypes[n])){r=!1;break}if(r)return"[".concat(t.controlTypes[n],"]")}var a="";return G.forEach((function(t){return a+=" - "+(e>900?t:t.match(/\b(\w)/g).join("."))})),a.substring(3).toUpperCase()}(),dropListId:"".concat(JSON.stringify(e),"-names"),multipleList:Object(I.a)(G),options:t.CONTROLS?Object(I.a)(t.CONTROLS.map((function(e){return e.name}))):[],onSelect:function(e){return W(Array.isArray(e)?Object(I.a)(e):[e])},extraName:"TYPES",extraList:t.controlTypes?["[ALL]","[NONE]"].concat(Object(I.a)(t.controlTypes.map((function(e){return"[".concat(e,"]")})))):[],onExtra:function(e){return W("[ALL]"==e?Object(I.a)(t.CONTROLS.map((function(e){return e.name}))):"[NONE]"==e?[]:Object(I.a)(t.CONTROLS.filter((function(t){return t.types.includes(e.replace(/\[|\]/g,""))})).map((function(e){return e.name}))))}})}),Object(O.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:5,backgroundColor:D<t.timeNextEvaluation?"black":null,border:ge()?le()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(O.jsx)(V,{value:U(K),dropListId:"".concat(JSON.stringify(e),"-duration"),options:k.map((function(e){return e.name})),customName:"Minutes",inputType:"number",customDefault:K/6e4,onSelect:function(e){return Y(isNaN(e)?P(e):6e4*e)}})}),Object(O.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:6,backgroundColor:D<t.timeNextEvaluation?"black":null,border:he()?de()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(O.jsx)(V,{value:$?"ON":"OFF",dropListId:"".concat(JSON.stringify(e),"-set"),options:["ON","OFF"],onSelect:function(e){Q("ON"==e)}})}),Object(O.jsx)("section",{className:"none schedule-value-box",style:{gridRow:1,gridColumn:7,backgroundColor:D<t.timeNextEvaluation?"black":null,border:Oe()?me()?"1px solid var(--main-color)":null:"1px solid darkred"},children:Object(O.jsx)(V,{value:ne?U(ne):"ONCE",dropListId:"".concat(JSON.stringify(e),"-repeat"),options:["ONCE"].concat(Object(I.a)(k.map((function(e){return e.name})))),customName:"Minutes",inputType:"number",customDefault:ne/6e4,onSelect:function(e){return re("ONCE"==e?0:isNaN(e)?P(e):6e4*e)}})}),m?Object(O.jsx)(v,{prompt:m,onSubmit:function(e){return ve(e,c)},onCancel:function(){j(void 0),x("UPDATE")}}):Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},J=function(e){var t=Object(b.c)((function(e){return e.serverURL})),n=Object(s.useState)([]),r=Object(p.a)(n,2),o=r[0],c=r[1],u=Object(s.useState)(!0),l=Object(p.a)(u,2),d=l[0],m=l[1],j=Object(s.useState)([]),g=Object(p.a)(j,2),h=g[0],v=g[1],x=function(){return f.a.get("".concat(t,"/data-schedules/")).then((function(e){console.log("SCHEDULES",e.data.schedules),c(e.data.schedules),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(e&&e.length){var n=0,r=0,i=(new Date).getTime()+24*t*60*60*1e3,a=0,s=Object(I.a)(e.map((function(e){return{time:e.time,duration:e.duration,repeat:e.repeat,priority:e.priority,names:e.names||[],overrides:[]}}))),c=function(){n=s.reduce((function(e,t){return t.time<e&&t.time>r?t.time:e}),i),a++;var e=s.find((function(e){return n==e.time}));return void 0==e?"break":(s.forEach((function(t){!e.overrides.includes(t.priority)&&e.priority>t.priority&&t.time<e.time+e.duration&&t.time+t.duration>e.time&&e.names.some((function(e){return t.names.includes(e)}))&&e.overrides.push(t.priority)})),r=e.time,e.time+=e.repeat,a>1e3?(console.log("Schedule.calculateOccurrenceList() Maxed Search: ",a,s),"break"):void 0)};do{if("break"===c())break}while(n<i);v(Object(I.a)(s.map((function(e){return{priority:e.priority,overrides:Object(I.a)(e.overrides.sort((function(e,t){return t-e})))}}))))}}(e.data.schedules)})).catch((function(e){return console.log("Failed to Fetch Schedule Information",e),!!e.response&&e.response.status}))};Object(s.useEffect)((function(){return x()}),[]);var N=function(e){if(!h||o.length!=h.length||void 0==e)return[];var t=h.find((function(t){return t.priority==e}));return t?t.overrides:[]};return Object(O.jsxs)("div",{id:"schedule-list",className:"none border-box",children:[Object(O.jsxs)("div",{className:"none schedule-row",children:[Object(O.jsx)("label",{className:"schedule-header",style:{gridColumn:1},children:"Edit"}),Object(O.jsx)("label",{className:"schedule-header",style:{gridColumn:2},children:"Occurrence"}),Object(O.jsx)("label",{className:"schedule-header",style:{gridColumn:3},children:"Title"}),Object(O.jsx)("label",{className:"schedule-header",style:{gridColumn:4},children:"Control"}),Object(O.jsx)("label",{className:"schedule-header",style:{gridColumn:5},children:"Duration"}),Object(O.jsx)("label",{className:"schedule-header",style:{gridColumn:6},children:"Set"}),Object(O.jsx)("label",{className:"schedule-header",style:{gridColumn:7},children:"Repeat"})]}),Object(O.jsx)(W,{insertNew:!0,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(n,r,a,o,s,c,u,l,d){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("INSERT"!=n){e.next=4;break}return e.next=3,f.a.post("".concat(t,"/schedule-add/"),{PASSWORD:r,time:o,title:s,names:JSON.stringify(c),duration:u,set:l,repeat:d}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a,o,s,c,u){return e.apply(this,arguments)}}()}),Object(O.jsxs)("div",{className:"schedule-button-row",children:[Object(O.jsx)(y,{title:d?"Sort Priority":"Sort Time",buttonStyle:{padding:"0.40rem"},condense:!0,buttonColor:"orange",verifyLevel:0,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!d),e.abrupt("return","Sorting");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(O.jsx)(S,{buttonColor:"black",buttonStyle:{padding:"0.45rem"}}),Object(O.jsx)(y,{title:"UPDATE",buttonStyle:{padding:"0.40rem"},pendingText:"RETRIEVING",condense:!0,verifyLevel:1,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return n=e.sent,e.abrupt("return",1==n?"UPDATED":n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(I.a)(o.sort((function(e,t){return d?e.time-t.time:t.priority-e.priority}))).map((function(e,n){return Object(O.jsx)(W,{verifyLevel:1,priority:e.priority,time:e.time,title:e.title,names:e.names,duration:e.duration,set:1==e.set||1==e.set,repeat:e.repeat,overriddenList:N(e.priority),onUpdate:function(){var n=Object(a.a)(i.a.mark((function n(r,a,o,s,c,u,l,d,m){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("DELETE"!=r){n.next=6;break}return n.next=3,f.a.post("".concat(t,"/schedule-delete/"),{PASSWORD:a,priority:e.priority}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 3:case 9:case 15:case 21:return n.abrupt("return",n.sent);case 6:if("UPDATE"!=r){n.next=12;break}return n.next=9,f.a.post("".concat(t,"/schedule-replace/"),{PASSWORD:a,currentPriority:e.priority,priority:o,time:s,title:c,names:JSON.stringify(u),duration:l,set:d,repeat:m}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 12:if("INCREASE"!=r&&"DECREASE"!=r){n.next=18;break}return n.next=15,f.a.post("".concat(t,"/schedule-priority-increase/"),{PASSWORD:a,priority:e.priority,increase:"INCREASE"==r}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 18:if(isNaN(parseInt(r))){n.next=22;break}return n.next=21,f.a.post("".concat(t,"/schedule-update/"),{PASSWORD:a,priority:e.priority,attributeName:"priority",value:parseInt(r)||0}).then((function(e){return x(),!0})).catch((function(e){return!!e.response&&e.response.status}));case 22:case"end":return n.stop()}}),n)})));return function(e,t,r,i,a,o,s,c,u){return n.apply(this,arguments)}}()},"Schedule-".concat(n))}))]})},q=(n(77),function(e){var t=Object(b.c)((function(e){return e.convertToFahrenheit})),n=Object(b.c)((function(e){return e.serverURL})),r=Object(s.useState)([]),i=Object(p.a)(r,2),a=i[0],o=i[1],c=Object(s.useState)({maximumTemperature:24,maximumHumidity:75,minimumTemperature:24,minimumHumidity:75}),u=Object(p.a)(c,2),l=u[0],d=u[1],m=Object(s.useState)(!0),j=Object(p.a)(m,2),g=j[0],h=j[1],x=Object(s.useState)("Pending"),y=Object(p.a)(x,2),S=y[0],N=y[1],T=Object(s.useState)(void 0),C=Object(p.a)(T,2),E=C[0],w=C[1],D=function(){return f.a.get("".concat(n,"/data-climate/")).then((function(e){console.log("CLIMATE",e.data),o(e.data.climate),N(""),d({maximumTemperature:e.data.maximumTemperature,maximumHumidity:e.data.maximumHumidity,minimumTemperature:e.data.minimumTemperature,minimumHumidity:e.data.minimumHumidity})})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)}))};Object(s.useEffect)((function(){return D()}),[g]);var A=function(e){return t?Math.round(10*(1.8*e+32))/10:e},R=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=g!=t?e?A(l.maximumTemperature):l.maximumTemperature:l.maximumHumidity;return n?Math.ceil(r):r},L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=g!=t?e?A(l.minimumTemperature):l.minimumTemperature:l.minimumHumidity;return n?Math.floor(r):r},k=function(){return 5*parseFloat(getComputedStyle(document.documentElement).fontSize)},U=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=(window.innerWidth-k())/((R(e)-L(e))*(2*parseFloat(getComputedStyle(document.documentElement).fontSize))),r=L(e);r<R(e);r+=Math.ceil(1/n))t.push(r);return t.push(R(e)),t},P=3.5*U(!0).length*(1*parseFloat(getComputedStyle(document.documentElement).fontSize))+k();return Object(O.jsxs)("div",{id:"climate-container",children:[Object(O.jsxs)("div",{id:"climate-header-box",children:[Object(O.jsx)("button",{className:"climate-header-button",style:{backgroundColor:g?"rgba(0, 102, 0, 0.6)":"rgba(255, 255, 255, 0.4)",color:g?"white":"black"},onClick:function(){return h(!0)},children:"Temperature"}),Object(O.jsx)("button",{className:"climate-header-button",style:{backgroundColor:g?"rgba(255, 255, 255, 0.4)":"rgba(0, 102, 0, 0.6)",color:g?"black":"white"},onClick:function(){return h(!1)},children:"Humidity"}),""!=S?Object(O.jsx)("button",{className:"climate-header-button",style:{backgroundColor:"Saved"==S||"Save Changes"==S?"#cc5500":"Pending"==S?"orange":"#e8000d",color:"black"},onClick:function(){N("Pending"),w("Enter Advanced Passphrase to Proceed:")},children:S}):Object(O.jsx)("section",{className:"none no-size"})]}),Object(O.jsxs)("div",{id:"climate-slider-box",className:"none ",style:{maxWidth:"".concat(P,"px")},children:[Object(O.jsx)("div",{className:"none climate-slider-value-box",style:{gridRow:1,gridColumn:1,paddingLeft:"4.0rem",paddingRight:"2.0rem",width:"".concat(1*P-1*k()-0,"px")},children:U(!1).map((function(e,t){return Object(O.jsx)("label",{className:"climate-slider-range-value",style:{gridColumn:t+1,textAlign:0==t?"left":t==U(!1).length-1?"right":"center"},children:e},"climate-slider-range-value-$first-".concat(t))}))}),a.map((function(e,t){return Object(O.jsxs)("div",{className:"none climate-slider-outer-box",style:{gridRow:t+2},children:[Object(O.jsxs)("strong",{className:"climate-hour-value",style:{},children:[e.hour,":00"]}),Object(O.jsxs)("strong",{className:"climate-hour-value",style:{gridRow:2,color:"var(--main-color)",fontSize:"0.8rem"},children:[g?parseFloat(e.temperature).toFixed(1):parseFloat(e.humidity).toFixed(1)," ",g?Object(O.jsx)("span",{className:"none",style:{fontSize:"0.65rem",verticalAlign:"top"},children:"\u2109"}):"%"]}),Object(O.jsx)("input",{readOnly:!0,className:"none climate-slider-range-bar climate-slider-range-bar-ghost",style:{width:"".concat(1*P-1*k()-0,"px")},type:"range",step:"0.01",min:L(!1,!0,!1),max:R(!1,!0,!1),value:g?a[t].humidity:a[t].temperature}),Object(O.jsx)("input",{readOnly:!0,className:"none climate-slider-range-bar climate-slider-range-bar-ghost-dot",style:{width:"".concat(1*P-1*k()-0,"px")},type:"range",step:"0.01",min:L(!1,!1,!1),max:R(!1,!1,!1),value:g?a[t].temperatureAverage:a[t].humidityAverage}),Object(O.jsx)("input",{className:"none climate-slider-range-bar",style:{width:"".concat(1*P-1*k()-0,"px")},type:"range",step:"0.01",min:L(!1,!1,!1),max:R(!1,!1,!1),value:g?a[t].temperature:a[t].humidity,onChange:function(e){g?a[t].temperature=e.target.value:a[t].humidity=e.target.value,o(Object(I.a)(a)),N("Save Changes")}}),Object(O.jsx)("div",{id:"data-".concat(t),className:"none climate-slider-value-box",style:{width:"".concat(1*P-1*k()-0,"px")},children:U(t%2==0).map((function(e,n){return Object(O.jsx)("label",{className:"climate-slider-range-value",style:{gridColumn:n+1,textAlign:0==n?"left":n==U(t%2==0).length-1?"right":"center"},children:e},"climate-slider-range-value-".concat(t,"-").concat(n))}))})]},"slider-".concat(t))}))]}),E?Object(O.jsx)(v,{prompt:E,onSubmit:function(e){w(void 0),f.a.post("".concat(n,"/set-settings/"),{ADVANCED_PASSPHRASE:e,tag:g?"climate-temperature":"climate-humidity",climate:JSON.stringify(a)}).then((function(e){N("Saved"),console.log(e),setTimeout((function(){D()}),5e3)})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)}))},onCancel:function(){w(void 0),N(""),D()}}):Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})}),K=(n(78),function(e){var t=Object(b.c)((function(e){return e.data})),n=Object(s.useState)([]),r=Object(p.a)(n,2),i=r[0],a=r[1],o=Object(m.f)(),c=Object(m.g)();return Object(s.useEffect)((function(){var e=[];void 0==t.sensorErrorCode&&e.push("SERVER DISCONNECTED"),t.sensorErrorCode&&e.push("SENSOR ERROR"),t.maximumTemperatureErrorCode&&e.push("MAXIMUM TEMPERATURE"),t.minimumTemperatureErrorCode&&e.push("MINIMUM TEMPERATURE"),t.maximumHumidityErrorCode&&e.push("MAXIMUM HUMIDITY"),t.minimumHumidityErrorCode&&e.push("MINIMUM HUMIDITY"),void 0==t.accessDatabase||t.accessDatabase||e.push("DATABASE DISCONNECTED"),a(e)}),[t]),Object(O.jsx)("div",{id:"error-bar-container",style:{display:i.length?"block":"none"},onClick:function(){"/settings"==c.pathname?o.push("/log"):o.push("/settings")},children:Object(O.jsx)("div",{id:"error-bar-wrap",children:i.map((function(e){return Object(O.jsx)("strong",{className:"error-bar-text",children:e},e)}))})})}),Y=function(e){return""==e?"transparent":"UPDATE"==e?"var(--main-color)":"PASS"==e||"INVALID"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},X=function(e){var t,n=Object(s.useState)(void 0),r=Object(p.a)(n,2),o=r[0],c=r[1],u=Object(b.c)((function(e){return e.dropListOpen})),l=Object(b.b)(),d=Object(s.useState)(void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current]),m=Object(p.a)(d,2),j=m[0],f=m[1],g=Object(s.useState)(void 0==e.options?j:Array.isArray(e.options)?e.options:[e.options]),h=Object(p.a)(g,2),x=h[0],y=h[1],S=Object(s.useState)(void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current]),N=Object(p.a)(S,2),T=N[0],C=N[1],E=Object(s.useState)(""),w=Object(p.a)(E,2),D=w[0],A=w[1],R=Object(s.useState)(""),L=Object(p.a)(R,2),k=L[0],U=L[1];Object(s.useEffect)((function(){var t=void 0==e.current?[]:Array.isArray(e.current)?e.current:[e.current],n=void 0==e.options?t:Array.isArray(e.options)?e.options:[e.options];f(t),y(n),C(t)}),[e]);var P=void 0!=e.verifyLevel?e.verifyLevel:2,H=void 0!=e.selectMultiple?e.selectMultiple:Array.isArray(e.current),M=void 0!=e.inputType?e.inputType:isNaN(e.current)?"text":"number",_=void 0!=e.addCustom&&e.addCustom,V=void 0!=e.condense&&e.condense,B=function(e){var t=e||T;if(Array.isArray(t))for(var n=0;n<t.length;n++)if(!j.includes(t[n]))return!0;if(Array.isArray(j))for(var r=0;r<j.length;r++)if(!t.includes(j[r]))return!0;return!1},G=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=B(n=t||T)?"UPDATE":"",Array.isArray(n))for(n.forEach((function(e){x.includes(e)||(r="INVALID")})),!H&&n.length>1&&(r="INVALID"),0==n.length&&(r="BLANK"),a=0;a<n.length;a++)void 0==n[a]&&(r="BLANK");return U(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return G()}),[T]);var z=function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c(void 0),1!=P||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(H?JSON.stringify(r||T):T[0],n);case 6:1==(a=t.sent)||isNaN(a)?(U(1!=a?a:"SAVED"),f(T),setTimeout((function(){return U("")}),5e3)):401==a?(U("PASS"),setTimeout((function(){return C(j)}),5e3),localStorage.clear()):404==a?(U("INVALID"),setTimeout((function(){return C(j)}),5e3),localStorage.clear()):(U("FAILED"),setTimeout((function(){return C(j)}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),W=function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=7;break}U("PENDING"),l({type:"setDropList"}),0==P?z(void 0,t):1!=P||localStorage.getItem("password")?1==P?z(localStorage.getItem("password"),t):c("Enter Advanced Passphrase to Proceed:"):c("Enter Control Password to Continue:");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var t=Object(a.a)(i.a.mark((function t(n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(I.a)(T),a=Object(I.a)(x),"email"!=e.inputType||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)){t.next=5;break}return U("Email"),t.abrupt("return","Email");case 5:return _&&!a.includes(n)&&(a=[].concat(Object(I.a)(x),[n])),r=H||!_&&!a.includes(n)?T.includes(n)?Object(I.a)(T.filter((function(e){return e!=n&&a.includes(e)}))):[].concat(Object(I.a)(T.filter((function(e){return a.includes(e)}))),[n]):[n],y(Object(I.a)(a)),C(Object(I.a)(r)),H||W(r),t.next=12,G(r);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){return Object(I.a)(T.filter((function(e){return!x.includes(e)})))};return Object(O.jsxs)("div",{id:e.title,className:"settings-value-box",style:{gridTemplateColumns:V?"auto 40%":null},onFocus:function(){},onBlur:function(){},children:[void 0==e.title?Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(O.jsx)("strong",{className:"settings-value-title",children:e.title}),u==e.dropListId?Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{className:"settings-value-input ",onClick:function(){return l({type:"setDropList",payload:e.dropListId})},children:T?T.toString():""}),Object(O.jsxs)("div",{className:"drop-menu-list",style:{top:x.length<=5?null:"5vh",position:x.length<=5?"absolute":"fixed"},children:[Object(O.jsx)("button",{className:"drop-menu-item",style:{border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:function(){l({type:"setDropList"})},children:"Close"},"settings-close-button"),q().map((function(e,t){return Object(O.jsx)("label",{className:"drop-menu-item",style:{gridRow:t+2,color:"gold"},onClick:function(){C((function(t){return Object(I.a)(t.filter((function(t){return t!=e&&x.includes(t)})))})),H||l({type:"setDropList"}),H||W()},children:e.toString()},e)})),x.map((function(e,t){return Object(O.jsx)("label",{className:"drop-menu-item",style:{gridRow:t+2+q().length,border:T.includes(e)?"1px solid var(--main-color)":"none",color:T.includes(e)?"var(--main-color)":"white"},onClick:Object(a.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:H||l({type:"setDropList"}),H||W();case 4:case"end":return t.stop()}}),t)}))),children:e.toString()},e)})),_?Object(O.jsxs)("div",{className:"none",style:{display:"inline-grid",gridRow:q().length+x.length+3,gridColumn:1},children:[Object(O.jsx)("input",{type:M,className:"drop-menu-item",style:{gridRow:1,gridColumn:1,width:"10.0rem",borderRadius:0,border:"1px solid whitesmoke",backgroundColor:"black",color:"white"},value:D,onChange:function(e){return A(e.target.value)},onKeyPress:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!=t.charCode){e.next=8;break}return e.next=3,J(D);case 3:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=6;break}A("");case 6:H||l({type:"setDropList"}),H||W();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"settings-add-input"),Object(O.jsx)("button",{className:"drop-menu-item",style:{gridRow:1,gridColumn:2,border:"none",borderRadius:0,borderBottom:"1px solid whitesmoke",backgroundColor:"whitesmoke",color:"black"},onClick:Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(D);case 2:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=5;break}A("");case 5:H||l({type:"setDropList"});case 6:case"end":return e.stop()}}),e)}))),children:"ADD"},"settings-add-button")]}):Object(O.jsx)("div",{className:"none no-size"}),V||"UPDATE"==k?Object(O.jsx)("button",{className:"drop-menu-item",style:(t={border:"none",borderRadius:0},Object(F.a)(t,"border","none"),Object(F.a)(t,"backgroundColor",Y(k)),Object(F.a)(t,"color","white"),t),onClick:function(){W()},children:k},"settings-save-button"):Object(O.jsx)("div",{className:"none no-size"})]})]}):Object(O.jsx)("button",{className:"settings-value-input ",onClick:function(){return l({type:"setDropList",payload:e.dropListId})},children:T?T.toString():""}),V&&!H?Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(O.jsx)("button",{className:"settings-value-button",onClick:W,style:{backgroundColor:Y(k)},children:k}),o?Object(O.jsx)(v,{prompt:o,onSubmit:z,onCancel:function(){c(void 0),U("UPDATE"),V&&C(Object(I.a)(j))}}):Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},Z=function(e){return""==e?"transparent":"UPDATE"==e?"var(--main-color)":"PASS"==e||"INVALID"==e||"FAILED"==e?"#e8000d":"PENDING"==e||"BLANK"==e?"orange":"#cc5500"},$=function(e){var t=Object(s.useState)(void 0),n=Object(p.a)(t,2),r=n[0],o=n[1],c=Object(s.useState)(e.current),u=Object(p.a)(c,2),l=u[0],d=u[1],m=Object(s.useState)(l),b=Object(p.a)(m,2),j=b[0],f=b[1],g=Object(s.useState)(""),h=Object(p.a)(g,2),x=h[0],y=h[1],S=void 0!=e.verifyLevel?e.verifyLevel:2,N=void 0!=e.inputType&&void 0==e.condense?e.inputType:isNaN(e.current)?"text":"number",T=void 0!=e.numberStep?e.numberStep:1,C=void 0!=e.condense&&e.condense,E=function(){var t=Object(a.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=j==l&&void 0==e.current?"BLANK":"number"==N&&isNaN(j)?"NUMBER":j!=l?"UPDATE":"",y(n),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){return E()}),[j]);var w=function(){var t=Object(a.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(void 0),1!=S||localStorage.getItem("password")){t.next=4;break}return t.next=4,localStorage.setItem("password",n.toString());case 4:return t.next=6,e.onUpdate(j,n);case 6:1==(r=t.sent)||isNaN(r)?(y(1!=r?r:"SAVED"),d("textarea"==N?"":j),"textarea"==N&&f(""),setTimeout((function(){return y("")}),5e3)):401==r?(y("PASS"),setTimeout((function(){return f(l)}),5e3),localStorage.clear()):404==r?(y("INVALID"),setTimeout((function(){return f(l)}),5e3)):(y("FAILED"),setTimeout((function(){return f(l)}),5e3));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(e.t0=e.sent,"UPDATE"!=e.t0){e.next=6;break}y("PENDING"),0==S?w(void 0):1!=S||localStorage.getItem("password")?1==S?w(localStorage.getItem("password")):o("Enter Advanced Passphrase to Proceed:"):o("Enter Control Password to Continue:");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"settings-value-box",style:{gridTemplateColumns:C?"1fr 1fr":null},children:[void 0==e.title?Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(O.jsx)("strong",{className:"settings-value-title",children:e.title}),"textarea"==N?Object(O.jsx)("textarea",{name:"textarea",value:j,onChange:function(e){return f(e.target.value)}}):Object(O.jsx)("input",{className:"settings-value-input",style:{color:C&&""!=x?Z(x):null},type:N,step:"number"==N?T:null,value:j,onChange:function(e){return f(e.target.value)},onKeyPress:function(e){13==e.charCode&&D()}}),C?Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(O.jsx)("button",{className:"settings-value-button",onClick:D,style:{backgroundColor:Z(x)},children:"textarea"==N&&""!=j?"SAVE":x}),r?Object(O.jsx)(v,{prompt:r,onSubmit:w,onCancel:function(){o(void 0),y("UPDATE")}}):Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}})]})},Q=function(e){var t=Object(b.c)((function(e){return e.serverURL})),n=Object(b.c)((function(e){return e.data})),r=Object(b.c)((function(e){return e.screenSaverBrightness})),o=Object(b.c)((function(e){return e.convertToFahrenheit})),s=Object(b.b)(),c=Object(m.f)(),u=function(){var e=Object(a.a)(i.a.mark((function e(n,r,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.post("".concat(t).concat(n,"/"),r).then((function(e){return"response"==a?e:a||!0})).catch((function(e){return!!e.response&&e.response.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(i.a.mark((function e(n,r,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.put("".concat(t).concat(n,"/"),r).then((function(e){return"response"==a?e:a||!0})).catch((function(e){return!!e.response&&e.response.status})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),d=[Object(O.jsx)(X,{title:"Temperature:",dropListId:"temperature-conversion",current:o?"Fahrenheit":"Celsius",options:["Celsius","Fahrenheit"],verifyLevel:0,onUpdate:function(e,t){return s({type:"toggleConvertToFahrenheit",payload:"Fahrenheit"==e}),!0}}),Object(O.jsx)(y,{title:"Deactivate Screen Saver",pendingText:"Deactivating",onUpdate:Object(a.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.deactivateScreenSaver(3e5),t.abrupt("return","5 Minutes");case 2:case"end":return t.stop()}}),t)})))}),Object(O.jsx)(X,{title:"ScreenSaver Brightness:",dropListId:"screensaver-brightness",current:r.setting,options:r.settingOptions,verifyLevel:0,onUpdate:function(e,t){return!!r.settingOptions.includes(e)&&(s({type:"setting",payload:e}),!0)}}),Object(O.jsx)("div",{style:{borderBottom:"1px solid var(--main-color)",margin:"0.5rem 0",width:"100%"}}),Object(O.jsx)($,{title:"Server URL:",current:t,verifyLevel:0,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"setServerURL",payload:t}),e.next=3,me();case 3:return 1==(r=e.sent)&&c.push("/"),e.abrupt("return",1==r?"UPDATING":r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Object(O.jsx)(y,{title:"Update Data",pendingText:"RETRIEVING",onUpdate:Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:return t=e.sent,e.abrupt("return",1==t?"UPDATED":t);case 4:case"end":return e.stop()}}),e)})))})];return"Scheduled"==r.setting&&d.splice(2,0,Object(O.jsx)($,{title:"ScreenSaver Day Hour Start: (0-23/24)",current:r.dayHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(s({type:"dayHourStart",payload:n}),!0)}}),Object(O.jsx)($,{title:"ScreenSaver Day Opacity: (%)",current:100*r.dayOpacity,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e)/100;return n>=0&&n<=1&&(s({type:"dayOpacity",payload:n}),!0)}}),Object(O.jsx)($,{title:"ScreenSaver Night Hour Start: (0-23/24)",current:r.nightHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(s({type:"nightHourStart",payload:n}),!0)}}),Object(O.jsx)($,{title:"ScreenSaver Night Opacity: (%)",current:100*r.nightOpacity,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e)/100;return n>=0&&n<=1&&(s({type:"nightOpacity",payload:n}),!0)}}),Object(O.jsx)($,{title:"ScreenSaver Black Hour Start: (0-23/24)",current:r.blackHourStart,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return n>=0&&n<=24&&(s({type:"blackHourStart",payload:n}),!0)}})),n=={}||void 0==n.CONTROLS?Object(O.jsx)("div",{id:"settings-container",children:d}):Object(O.jsxs)("div",{id:"settings-container",children:[d,Object(O.jsx)(y,{title:"Evaluate Conditions",pendingText:"EXECUTING",onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return setTimeout((function(){return me()}),6e4),e.next=3,l("/evaluate",{PASSWORD:t},"COMPLETE");case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(O.jsx)($,{title:"Postpone Next Evaluation: (ms)",current:0,numberStep:6e4,verifyLevel:1,onUpdate:function(e,t){return u("/postpone-evaluation",{PASSWORD:t,duration:e})}}),Object(O.jsx)(X,{title:"Status Email Recipients:",dropListId:"status-email",current:n.emailStatusRecipients,verifyLevel:1,addCustom:!0,inputType:"email",onUpdate:function(e,t){return u("/set-settings",{PASSWORD:t,tag:"emailStatusRecipients",emailStatusRecipients:e})}}),Object(O.jsx)(y,{title:"Send Update Email",pendingText:"SENDING",onUpdate:function(e){return l("/send-update-email",{PASSWORD:e},"SENT")}}),Object(O.jsx)(X,{title:"Issue Email Recipients:",dropListId:"issue-email",current:n.emailIssueRecipients,addCustom:!0,inputType:"email",onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"emailIssueRecipients",emailIssueRecipients:e})}}),Object(O.jsx)($,{title:"Email Report:",current:"",inputType:"textarea",verifyLevel:1,onUpdate:function(e,t){return u("/save-log",{PASSWORD:t,email:!0,message:e})}}),Object(O.jsx)(X,{title:"Email Update Regularity:",dropListId:"email-update-regularity",current:n.updateRegularity,options:n.updateRegularityOptions,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"updateRegularity",updateRegularity:e})}}),Object(O.jsx)(X,{title:"Allow Database Access:",dropListId:"allow-database",current:n.accessDatabase,options:[!0,!1],onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"accessDatabase",accessDatabase:e})}}),Object(O.jsx)($,{title:"Evaluation Frequency: (m)",current:n.evaluationFrequency/6e4,numberStep:1,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"evaluationFrequency",evaluationFrequency:6e4*e})}}),Object(O.jsx)($,{title:"Maximum Temperature: (c)",current:n.maximumTemperature,numberStep:.5,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"maximumTemperature",maximumTemperature:e})}}),Object(O.jsx)($,{title:"Minimum Temperature: (c)",current:n.minimumTemperature,numberStep:.5,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"minimumTemperature",minimumTemperature:e})}}),Object(O.jsx)($,{title:"Maximum Humidity: (%)",current:n.maximumHumidity,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"maximumHumidity",maximumHumidity:e})}}),Object(O.jsx)($,{title:"Minimum Humidity: (%)",current:n.minimumHumidity,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"minimumHumidity",minimumHumidity:e})}}),Object(O.jsx)($,{title:"Hour Day Starts: (h)",current:n.dayHourStart,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"dayHourStart",dayHourStart:e})}}),Object(O.jsx)($,{title:"Hour Night Starts: (h)",current:n.nightHourStart,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"nightHourStart",nightHourStart:e})}}),Object(O.jsx)(X,{title:"Sensor Type:",dropListId:"sensor-type",current:n.sensorType,options:n.sensorTypes,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"sensorType",sensorType:e})}}),Object(O.jsx)(X,{title:"Sensor Mode:",dropListId:"sensor-mode",current:n.sensorMode,options:n.sensorModes,onUpdate:function(e,t){return u("/set-settings",{ADVANCED_PASSPHRASE:t,tag:"sensorMode",sensorMode:e})}}),Object(O.jsx)(y,{title:"Test Sensor",pendingText:"Redirecting",verifyLevel:0,onUpdate:function(e){return c.push("/sensor-testing")}}),n.CONTROLS.map((function(e,t){return Object(O.jsxs)("div",{children:[Object(O.jsx)($,{title:"[".concat(e.id,"] Control Name:"),current:e.name,onUpdate:function(t,n){return u("/set-settings",{ADVANCED_PASSPHRASE:n,tag:"controls-name",id:e.id,name:t})}},"name-".concat(e.id)),Object(O.jsx)(X,{title:"[".concat(e.id,"] Control Types:"),dropListId:"control-types-".concat(e,"-").concat(t),current:e.types,options:n.controlTypes,selectMultiple:!0,addCustom:!0,onUpdate:function(t,n){return u("/set-settings",{ADVANCED_PASSPHRASE:n,tag:"controls-types",id:e.id,types:t})}},"types-".concat(e.id))]},"".concat(e.id,"-").concat(t))})),Object(O.jsx)(y,{title:"Reset Settings",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/reset-settings",{ADVANCED_PASSPHRASE:t},"RESETTING");case 2:return n=e.sent,me(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(O.jsx)(y,{title:"Reset File System",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/reset-file-system",{ADVANCED_PASSPHRASE:t},"RESETTING");case 2:return n=e.sent,me(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(O.jsx)(y,{title:"Terminate Server",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(e){return u("/terminate",{ADVANCED_PASSPHRASE:e},"TERMINATING")}}),Object(O.jsx)(y,{title:"Restart PI",pendingText:"CONFIGURING",verifyLevel:3,onUpdate:function(e){return u("/restart-pi",{ADVANCED_PASSPHRASE:e},"RESTARTING")}}),Object(O.jsx)(y,{title:"Server Log",pendingText:"Redirecting",verifyLevel:0,onUpdate:function(e){return c.push("/log")}}),Object(O.jsx)($,{title:"Save to Log:",current:"",inputType:"textarea",verifyLevel:1,onUpdate:function(e,t){return u("/save-log",{PASSWORD:t,message:e})}}),Object(O.jsx)(y,{title:"Log Out",pendingText:"CLEARING",verifyLevel:0,onUpdate:function(){return localStorage.clear(),"CLEARED PASSWORD"}})]})},ee=function(e){var t=Object(b.c)((function(e){return e.serverURL})),n=Object(b.c)((function(e){return e.data})),r=Object(s.useState)(""),o=Object(p.a)(r,2),c=o[0],u=o[1],l=Object(s.useState)(6e4),d=Object(p.a)(l,2),m=d[0],j=d[1],g=Object(s.useState)(5e3),h=Object(p.a)(g,2),v=h[0],x=h[1],S=Object(s.useState)(""),N=Object(p.a)(S,2),T=N[0],C=N[1],E=null,w=null;return Object(O.jsxs)("div",{id:"sensor-test-container",children:[Object(O.jsxs)("div",{className:"sensor-test-first-header",children:[Object(O.jsx)(X,{title:"Sensor Type:",dropListId:"sensor-testing-sensor-type",current:n.sensorType,options:n.sensorTypes,condense:!0,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t,"/settings/"),{ADVANCED_PASSPHRASE:r,tag:"sensorType",sensorType:n}).then((function(e){return!0})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),Object(O.jsx)($,{title:"Test Duration: (m)",current:m/6e4,condense:!0,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return!isNaN(n)&&e==n&&n>0&&(j(6e4*n),!0)}}),Object(O.jsx)($,{title:"Test Interval: (s)",current:v/1e3,condense:!0,verifyLevel:0,onUpdate:function(e,t){var n=parseInt(e);return!isNaN(n)&&e==n&&n>0&&(x(1e3*n),!0)}})]}),Object(O.jsxs)("div",{className:"sensor-test-second-header",children:[Object(O.jsx)(y,{title:""==T?"RESTART":"fetchingError",pendingText:"QUEUING",buttonColor:""!=T?"darkred":"",condense:!0,verifyLevel:2,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(t,"/sensor-test-restart/"),{ADVANCED_PASSPHRASE:n,duration:m,interval:v}).then((function(e){return clearInterval(E),clearTimeout(w),C(""),E=setInterval(Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t,"/sensor-test/")).then((function(e){u(e.data),C("")})).catch((function(e){console.log("Failed to Get Sensor Testing Data",e),C(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),w=setTimeout((function(){clearInterval(E),C("")}),m+3e4),"INITIATING"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(O.jsx)(y,{title:"UPDATE",pendingText:"LOADING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(t,"/sensor-test/")).then((function(e){return u(e.data),"CURRENT"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),Object(O.jsx)("div",{className:"sensor-test-results",children:Object(O.jsxs)("table",{style:{margin:0,width:"100%",border:"none",borderSpacing:"4px"},children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Time"}),Object(O.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Temperature"}),Object(O.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Humidity"}),Object(O.jsx)("th",{style:{padding:"3px",textAlign:"center"},children:"Message"})]}),c.split("\n").map((function(e,t){return""==e?Object(O.jsx)("br",{},"".concat(e,"-").concat(c.length)):Object(O.jsx)("tr",{children:e.split("|").map((function(t,n){return Object(O.jsx)("td",{style:{padding:"3px",textAlign:0==n?"left":"center"},colspan:4/e.split("|").length>1?Math.floor(4/e.split("|").length):1,children:t},"".concat(t,"-").concat(e,"-").concat(c.length))}))},"".concat(e,"-").concat(c.length))}))]})})]})},te=n.p+"static/media/log.0e5b1622.txt",ne=function(e){var t=Object(b.c)((function(e){return e.serverURL})),n=Object(s.useState)(""),r=Object(p.a)(n,2),o=r[0],c=r[1],u=Object(s.useState)("log.txt"),l=Object(p.a)(u,2),d=l[0],m=l[1],j=Object(s.useState)(0),h=Object(p.a)(j,2),v=h[0],x=h[1],S=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(te).then((function(e){return e.text()})).then((function(e){c(e)})).catch((function(e){return!!e.response&&e.response.status})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return S()}),[]),Object(O.jsxs)("div",{id:"sensor-test-container",children:[Object(O.jsx)(y,{title:"UPDATE",pendingText:"RETRIEVING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","LOADING");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(O.jsxs)("strong",{className:"settings-value-title",style:{marginTop:"1.5rem"},children:["File: ",d]}),Object(O.jsxs)("div",{className:"sensor-test-results",children:[o.split(/(?=\[\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{1,2}:\d{1,2}])/g).map((function(e){return e.split(/\n/g).map((function(e,t){var n=/(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])-([0-9]{4}) ([0-2]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])/.exec(e);if(n){0==v&&x((new Date).setHours(n[4],n[5],n[6])-new Date(n[3],parseInt(n[1])-1,n[2],n[4],n[5],n[6]).getTime());var r=e.replace(n[0],Object(g.a)(new Date(n[3],parseInt(n[1])-1,n[2],n[4],n[5],n[6]).getTime()+v,"m-d-yyyy H:MM:ss"));return Object(O.jsx)("p",{style:{color:/error|fail/i.test(r)?"red":/\[\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{1,2}:\d{1,2}]/.test(r)?/severe|high|low/i.test(r)?"orangered":/restart/i.test(r)?"goldenrod":"whitesmoke":null},children:r},t)}return Object(O.jsx)("p",{style:{color:/error|fail/i.test(e)?"red":/\[\d{1,2}-\d{1,2}-\d{4} \d{1,2}:\d{1,2}:\d{1,2}]/.test(e)?/severe|high|low/i.test(e)?"orangered":/restart/i.test(e)?"goldenrod":"whitesmoke":null},children:e},t)}))})).reverse(),"    "]}),void 0==d?Object(O.jsx)("div",{className:"none no-size",style:{position:"absolute"}}):Object(O.jsx)(y,{title:"PREVIOUS LOG",pendingText:"SEARCHING",condense:!0,verifyLevel:0,onUpdate:function(){var e=Object(a.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.put("".concat(t,"/log/"),{fileName:d}).then((function(e){return m(e.headers["content-name"]),c(e.data),"LOADING"})).catch((function(e){return!!e.response&&e.response.status}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})},re=(n(79),n(80),function(e){var t=Object(b.c)((function(e){return e.serverURL})),n=Object(b.c)((function(e){return e.data})),r=Object(b.c)((function(e){return e.convertToFahrenheit})),o=Object(s.useState)([]),c=Object(p.a)(o,2),u=c[0],l=c[1],d=Object(s.useState)([]),m=Object(p.a)(d,2),j=(m[0],m[1]),h=function(e){return r?Math.round(100*(1.8*e+32))/100:e},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.operatingTemperature,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.goalTemperature;return Math.abs(e-t)<1?Object(O.jsx)("span",{}):Object(O.jsxs)("span",{children:["[",Object(O.jsx)("small",{children:e>t?"+":"-"}),Math.floor(Math.abs(e-t)),Object(O.jsx)("span",{children:"\xb0"}),"]"]})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.operatingHumidity,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.goalHumidity;return Math.abs(e-t)<1?Object(O.jsx)("span",{}):Object(O.jsxs)("span",{children:["[",Object(O.jsx)("small",{children:e>t?"+":"-"}),Math.floor(Math.abs(e-t)),Object(O.jsx)("small",{children:"%"}),"]"]})},S=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.a.get("".concat(t,"/data-climate/")).then((function(e){j(e.data.climate),console.log("CLIMATE",e.data)})).catch((function(e){return console.log("Failed to Fetch Climate Information",e)})),e.next=3,f.a.get("".concat(t,"/data-history/")).then((function(e){return l(e.data),console.log("HISTORY",e.data),"LOADING"})).catch((function(e){return!!e.response&&e.response.status}));case 3:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return S()}),[]),Object(O.jsxs)("div",{id:"history-container",children:[Object(O.jsx)(y,{title:"UPDATE",pendingText:"RETRIEVING",condense:!0,verifyLevel:0,onUpdate:function(){return S()}}),Object(O.jsxs)("table",{style:{margin:0,width:"100%",border:"2px solid #013214",color:"white",borderSpacing:"4px"},children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Time"}),Object(O.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Temperature"}),Object(O.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Humidity"}),Object(O.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Active"}),Object(O.jsx)("th",{style:{padding:"3px",fontWeight:700,fontFamily:"'New Tegomin', serif",textAlign:"center"},children:"Inactive"})]}),u&&u.length?u.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:Object(g.a)(e.time,(new Date).getTime()-e.time<5184e5?"DDDD, H:MM":"mmm-d H:MM")}),Object(O.jsxs)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:[h(e.temperature),r?Object(O.jsx)("small",{children:"\u2109"}):Object(O.jsx)("small",{children:"\u2103"})," ",v(h(e.temperature),h(e.goalTemperature))]}),Object(O.jsxs)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center"},children:[e.humidity,"% ",x(e.humidity,e.goalHumidity)]}),Object(O.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center",fontSize:"0.7em"},children:e.active.length?Object(O.jsx)("table",{style:{margin:0,width:"100%",borderSpacing:"2px"},children:e.active.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)("td",{style:{textAlign:"center"},children:"".concat(e.name,"  [").concat(e.settings[0].reason,"]")})})}))}):null}),Object(O.jsx)("td",{style:{padding:"3px",border:"0.05rem solid #013214",textAlign:"center",fontSize:"0.7em"},children:e.active.length?Object(O.jsx)("table",{style:{margin:0,width:"100%",borderSpacing:"2px"},children:e.inactive.map((function(e){return Object(O.jsx)("tr",{children:Object(O.jsx)("td",{style:{textAlign:"center"},children:"".concat(e.name,"  [").concat(e.settings[0].reason,"]")})})}))}):null})]})})):Object(O.jsx)("tr",{children:Object(O.jsx)("td",{style:{padding:"3px",textAlign:"center"},children:"No History Available"})})]})]})}),ie=function(){var e=Object(s.useRef)(),t=function(){e.current&&e.current.deactivateScreenSaver()};return Object(s.useEffect)((function(){return window.addEventListener("scroll",t,!1)}),[]),Object(O.jsx)("div",{id:"App",className:" border-box",onClick:function(){return e.current.deactivateScreenSaver()},onMouseMove:function(){return e.current.deactivateScreenSaver()},onWheel:function(){return e.current.deactivateScreenSaver()},children:Object(O.jsxs)(d.a,{children:[Object(O.jsx)(w,{}),Object(O.jsx)(A,{ref:e}),Object(O.jsxs)(m.c,{children:[Object(O.jsx)(m.a,{exact:!0,path:"/",children:Object(O.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(O.jsx)(C,{hideDetails:!1}),Object(O.jsx)(L,{})]})}),Object(O.jsxs)(m.a,{path:"/controls",children:[Object(O.jsx)(K,{}),Object(O.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(O.jsx)(M,{}),Object(O.jsx)(L,{})]})]}),Object(O.jsxs)(m.a,{path:"/schedules",children:[Object(O.jsx)(K,{}),Object(O.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(O.jsx)(J,{}),Object(O.jsx)(L,{})]})]}),Object(O.jsxs)(m.a,{path:"/climate",children:[Object(O.jsx)(K,{}),Object(O.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(O.jsx)(q,{}),Object(O.jsx)(L,{})]})]}),Object(O.jsxs)(m.a,{path:"/history",children:[Object(O.jsx)(K,{}),Object(O.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(O.jsx)(re,{}),Object(O.jsx)(L,{})]})]}),Object(O.jsxs)(m.a,{path:"/settings",children:[Object(O.jsx)(K,{}),Object(O.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(O.jsx)(Q,{deactivateScreenSaver:function(t){return e.current.deactivateScreenSaver(t)}}),Object(O.jsx)(L,{})]})]}),Object(O.jsxs)(m.a,{path:"/log",children:[Object(O.jsx)(K,{}),Object(O.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(O.jsx)(ne,{}),Object(O.jsx)(L,{})]})]}),Object(O.jsxs)(m.a,{path:"/sensor-testing",children:[Object(O.jsx)(K,{}),Object(O.jsxs)("div",{id:"page-box",className:" border-box",style:{boxSizing:"border-box"},children:[Object(O.jsx)(ee,{}),Object(O.jsx)(L,{})]})]})]})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},oe=n(33),se=n(7),ce={IMAGE_INTERVAL:6e3,TRANSITION_INTERVAL:1e3,SCREENSAVER_INACTIVE_TIME:6e4,location:E,isVisible:!1},ue={settingOptions:["Default","Scheduled","Black","Disabled"],setting:"Default",dayOpacity:1,dayHourStart:7,nightOpacity:.35,nightHourStart:19,blackHourStart:21},le=Object(oe.a)({serverURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://192.168.4.41:4700",t=arguments.length>1?arguments[1]:void 0;return"setServerURL"==t.type?t.payload:e},image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;return"setImage"==t.type?Object(o.a)(Object(o.a)({},e),{},{location:t.payload,isVisible:!0}):"setImageVisible"==t.type?Object(o.a)(Object(o.a)({},e),{},{isVisible:!0}):"setImageInvisible"==t.type?Object(o.a)(Object(o.a)({},e),{},{isVisible:!1}):e},isScreenSaverActive:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"activateScreenSaver"==t.type||"deactivateScreenSaver"!=t.type&&e},screenSaverBrightness:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setting":return e.settingOptions.includes(t.payload)?Object(o.a)(Object(o.a)({},e),{},{setting:t.payload}):e;case"dayOpacity":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",dayOpacity:t.payload});case"dayHourStart":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",dayHourStart:t.payload});case"nightOpacity":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",nightOpacity:t.payload});case"nightHourStart":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",nightHourStart:t.payload});case"blackHourStart":return Object(o.a)(Object(o.a)({},e),{},{setting:"Scheduled",blackHourStart:t.payload});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"setData"==t.type?Object(o.a)({},t.payload):e},convertToFahrenheit:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return"toggleConvertToFahrenheit"==t.type?!e:e},dropListOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OFF",t=arguments.length>1?arguments[1]:void 0;return"setDropList"==t.type&&e==t.payload||"setDropList"==t.type&&void 0==t.payload?"OFF":"setDropList"==t.type?t.payload:e}}),de=Object(oe.b)(le,{}),me=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(de.getState().serverURL),se.timeLastReading=(new Date).getTime()-9e5+45e3,se.timeNextEvaluation=(new Date).getTime()+45e3,se.CONTROLS[0].settings[0].until=se.timeNextEvaluation,se.CONTROLS[1].settings[0].until=(new Date).setHours(20,0,0),se.CONTROLS[2].settings[0].until=(new Date).setHours(18,0,0),se.CONTROLS[3].settings[0].until=se.timeNextEvaluation,se.CONTROLS[4].settings[0].until=se.timeNextEvaluation,se.CONTROLS[6].settings[0].until=(new Date).getTime()+438e4,de.dispatch({type:"setData",payload:se}),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de.dispatch({type:"setServerURL",payload:window.location.origin}),me(),setTimeout((function(){console.log("INITIATING LOW HUMIDITY ERROR"),se.timeLastReading=(new Date).getTime(),se.timeNextEvaluation=(new Date).getTime()+9e5,se.minimumHumidityErrorCode=2,se.operatingHumidity=se.minimumHumidity-3.27,se.operatingTemperature=se.operatingTemperature+.72,se.statusMessage="Minimum Humidity Exceeded -> Responding accordingly by enabling 'Humidify' and disabling 'Dehumidify'\nOperating with current conditions.",se.CONTROLS[0].settings=[{reason:"Climate Cooling",set:0,until:se.timeNextEvaluation}],se.CONTROLS[1].settings=[{reason:"Daytime",set:0,until:(new Date).setHours(20,0,0)}],se.CONTROLS[2].settings=[{reason:"Schedule Grow\n",set:1,until:(new Date).setHours(18,0,0)}],se.CONTROLS[3].settings=[{reason:"ON : Severe Low Humidity",set:1,until:se.timeNextEvaluation}],se.CONTROLS[4].settings=[{reason:"OFF : Severe Low Humidity",set:0,until:se.timeNextEvaluation}],se.CONTROLS[5].settings=[{reason:"Default",set:0,until:-1}],se.CONTROLS[6].settings=[{reason:"ON : Severe Low Humidity",set:1,until:se.timeNextEvaluation}],de.dispatch({type:"setData",payload:se})}),45e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();pe(),l.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(b.a,{store:de,children:Object(O.jsx)(ie,{})})}),document.getElementById("root")),ae()}},[[81,1,2]]]);
//# sourceMappingURL=main.9eac195c.chunk.js.map